<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/chess.css">
    <link rel="stylesheet" href="css/home-page.css">


    <script src="js/toolbox/toolbox.bundle.js"></script>
    <script src="js/message.js"></script>
    <script src="js/interface.js"></script>
    <script src="js/d3.v7.min.js"></script>

    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&" as="style" onload="this.onload=null;this.rel='stylesheet'">

</head>
<body>
    <main>
        <div class="avatar-wrapper">

        </div>
        <nav>
            <div class="not-connected">
                <a href="#" class="nav-link" onclick="connect_user()">connect</a>
                <a href="#" class="nav-link">register</a>
            </div>
        </nav>
    </main>

<script>
    function connect_user() {
            //      new PopUp({
            //     content: box,
            //     buttons: [
            //         { label: 'Cancel', class_name: 'no-button' },
            //     ]
            // }).open();

        const box = document.createElement("div");
        box.classList.add("connect-box");
        box.innerHTML = `
            <h2>Connect</h2>
            <input type="text" id="pseudo" class="form-input" placeholder="Pseudo">
        `;
        new PopUp({
            content: box,
            buttons: [
                { label: 'Cancel', class_name: 'no-button' },
                { label: 'Connect', class_name: 'yes-button', on_click: () => {
                    const pseudo = document.getElementById("pseudo").value;
                    if (pseudo.length < 3) {
                        Toast.error("Pseudo must be at least 3 characters long");
                        return;
                    }
                    send_message("connect-user", {"pseudo": pseudo}, true, "Connecting...");
                } }
            ]
        }).open();
    }
</script>
</body>
</html>