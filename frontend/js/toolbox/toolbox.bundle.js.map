{
  "version": 3,
  "sources": ["../js/toolbox/index.js", "../js/toolbox/context_menu/index.js", "../js/toolbox/context_menu/context_menu.css", "../js/toolbox/shared/ensure_stylesheet.js", "../js/toolbox/context_menu/context_menu.js", "../js/toolbox/editable_text/index.js", "../js/toolbox/editable_text/editable_text.css", "../js/toolbox/editable_text/editable_text.js", "../js/toolbox/navigator/index.js", "../js/toolbox/navigator/navigator.css", "../js/toolbox/navigator/navigator.js", "../js/toolbox/pop_up/index.js", "../js/toolbox/pop_up/pop_up.css", "../js/toolbox/pop_up/pop_up.js", "../js/toolbox/table/index.js", "../js/toolbox/table/table.css", "../js/toolbox/table/registry.js", "../js/toolbox/table/state.js", "../js/toolbox/table/renderer.js", "../js/toolbox/table/mixins/base.js", "../js/toolbox/table/mixins/plugins.js", "../js/toolbox/table/mixins/columns_api.js", "../js/toolbox/table/mixins/rows_api.js", "../js/toolbox/table/mixins/dom.js", "../js/toolbox/table/mixins/enhance.js", "../js/toolbox/table/mixins/exports.js", "../js/toolbox/table/plugins/_base.js", "../js/toolbox/table/plugins/search.js", "../js/toolbox/table/plugins/sort.js", "../js/toolbox/table/plugins/pagination.js", "../js/toolbox/table/plugins/downloads.js", "../js/toolbox/loading_screen/index.js", "../js/toolbox/loading_screen/loading_screen.css", "../js/toolbox/loading_screen/loading_screen.js", "../js/toolbox/toast/index.js", "../js/toolbox/toast/toast.css", "../js/toolbox/toast/toast.js"],
  "sourcesContent": ["import * as context_menu from './context_menu/index.js';\r\nimport * as editable_text from './editable_text/index.js';\r\nimport * as navigator from './navigator/index.js';\r\nimport * as pop_up from './pop_up/index.js'\r\nimport * as table from './table/index.js'\r\nimport * as loading_screen from './loading_screen/index.js'\r\nimport * as toast from './toast/index.js'\r\n\r\n\r\n\r\n\r\nexport { context_menu, editable_text, navigator, pop_up, table, loading_screen, toast };\r\nexport * from './context_menu/index.js';\r\nexport * from './editable_text/index.js';\r\nexport * from './navigator/index.js'\r\nexport * from './pop_up/index.js'\r\nexport * from './table/index.js'\r\nexport * from './loading_screen/index.js'\r\nexport * from './toast/index.js'\r\n\r\n", "import cssText from './context_menu.css';\r\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\r\nensure_stylesheet(cssText, \"webtool__context_menu_css\");\r\n\r\nexport * from './context_menu.js'\r\n", ".context-menu{position:fixed;z-index:9999;min-width:180px;max-width:320px;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,.12);padding:6px 0;font:14px/1.4 system-ui,-apple-system,Segoe UI,Roboto}\r\n.context-menu__item{display:flex;gap:8px;align-items:center;padding:8px 12px;cursor:pointer;user-select:none;white-space:nowrap}\r\n.context-menu__item:hover{background:#f5f5f7}\r\n.context-menu__item[aria-disabled=\"true\"]{opacity:.5;pointer-events:none;cursor:default}\r\n.context-menu__icon{width:16px;height:16px;display:inline-flex;align-items:center;justify-content:center;flex:0 0 16px}\r\n.context-menu__label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis}\r\n.context-menu__check{margin-left:auto}\r\n.context-menu__sep{height:1px;background:#eee;margin:6px 0}\r\n.context-menu__item--danger:hover{background:#fee2e2}", "export function ensure_stylesheet(css, id) {\r\n  if (typeof document === 'undefined') return;\r\n  if (id && document.getElementById(id)) return;\r\n  const el = document.createElement('style');\r\n  if (id) el.id = id;\r\n  el.textContent = css;\r\n  document.head.appendChild(el);\r\n}\r\n", "    // ---------- Base item ----------\r\nexport class MenuItem {\r\n    visible(ctx){ return true }\r\n    enabled(ctx){ return true }\r\n    render(_ctx, _menu){ throw new Error('implement render()') }\r\n}\r\n\r\n    // ---------- Items ----------\r\nexport class ActionItem extends MenuItem {\r\n    constructor({ label, on_click, icon_html=null, visible=null, enabled=null, danger=false }) {\r\n        super();\r\n        this.label = label;\r\n        this.on_click = on_click;\r\n        this.icon_html = icon_html;\r\n        this.danger = !!danger;\r\n        if (visible) this.visible = visible;\r\n        if (enabled) this.enabled = enabled;\r\n    }\r\n    render(ctx, menu){\r\n        const el = document.createElement('div');\r\n        el.className = 'context-menu__item' + (this.danger ? ' context-menu__item--danger' : '');\r\n        el.setAttribute('role','menuitem');\r\n        el.innerHTML = `${this.icon_html ? `<span class=\"context-menu__icon\">${this.icon_html}</span>` : ''}<span class=\"context-menu__label\">${this.label}</span>`;\r\n        if (this.enabled(ctx)) {\r\n        el.addEventListener('click', (e) => { e.stopPropagation(); menu.close(); this.on_click?.(ctx); });\r\n        } else {\r\n        el.setAttribute('aria-disabled','true');\r\n        }\r\n        return el;\r\n    }\r\n}\r\n\r\nexport class CheckboxItem extends MenuItem {\r\n    constructor({ label, get_checked, on_toggle, visible=null, enabled=null }) {\r\n        super();\r\n        this.label = label;\r\n        this.get_checked = get_checked;\r\n        this.on_toggle = on_toggle;\r\n        if (visible) this.visible = visible;\r\n        if (enabled) this.enabled = enabled;\r\n    }\r\n    render(ctx, menu){\r\n        const checked = !!(this.get_checked?.(ctx));\r\n        const el = document.createElement('div');\r\n        el.className = 'context-menu__item';\r\n        el.setAttribute('role','menuitemcheckbox');\r\n        el.setAttribute('aria-checked', String(checked));\r\n        el.innerHTML = `<span class=\"context-menu__label\">${this.label}</span><span class=\"context-menu__check\">${checked?'\u2713':''}</span>`;\r\n        if (this.enabled(ctx)) {\r\n        el.addEventListener('click', (e) => { e.stopPropagation(); this.on_toggle?.(!checked, ctx); menu.close(); });\r\n        } else {\r\n        el.setAttribute('aria-disabled','true');\r\n        }\r\n        return el;\r\n    }\r\n    }\r\n\r\nexport class SeparatorItem extends MenuItem {\r\n    render(){\r\n        const el = document.createElement('div');\r\n        el.className = 'context-menu__sep';\r\n        el.setAttribute('role','separator');\r\n        return el;\r\n    }\r\n}\r\n\r\n    // ---------- Menu ----------\r\nexport class ContextMenu {\r\n    constructor({\r\n        activation = 'contextmenu',      // string | string[]\r\n        mode = 'always',                 // 'always' | 'selector'\r\n        selector = null,                 // when mode === 'selector'\r\n        container = document,\r\n        items = [],\r\n        context_fn = null                // (event, target) => extra ctx\r\n    } = {}) {\r\n        this.activation = activation;\r\n        this.mode = mode;\r\n        this.selector = selector;\r\n        this.container = container;\r\n        this.items = items;\r\n        this.context_fn = context_fn;\r\n        this.menu_el = this._create_root();\r\n        this.is_open = false;\r\n        this._bind();\r\n    }\r\n\r\n    set_items(items){ this.items = items ?? []; }\r\n    add_item(item){ this.items.push(item); }\r\n    items_list(list=[]){ for (const it of list) this.add_item(it); return this; }\r\n    action(label, on_click, opts={}){ this.add_item(new ActionItem({ label, on_click, ...(opts||{}) })); return this }\r\n    check(label, get_checked, on_toggle, opts={}){ this.add_item(new CheckboxItem({ label, get_checked, on_toggle, ...(opts||{}) })); return this }\r\n    sep(){ this.add_item(new SeparatorItem()); return this }\r\n\r\n    open_for_event(ev){\r\n        const target = this._resolve_target(ev);\r\n        if (!target) return;\r\n        ev.preventDefault?.();\r\n        ev.stopPropagation?.();\r\n        const ctx = this._build_ctx(ev, target);\r\n        this._render_items(ctx);\r\n        this._open_at(ev.clientX ?? 0, ev.clientY ?? 0);\r\n    }\r\n\r\n    open_at(x, y, ctx = {}){ this._render_items(ctx); this._open_at(x, y); }\r\n\r\n    close(){\r\n        if (!this.is_open) return;\r\n        this.is_open = false;\r\n        this.menu_el.style.display = 'none';\r\n        document.removeEventListener('click', this._on_doc_click, true);\r\n        document.removeEventListener('keydown', this._on_doc_key, true);\r\n        window.removeEventListener('resize', this._on_win_resize, true);\r\n        window.removeEventListener('scroll', this._on_win_resize, true);\r\n    }\r\n\r\n    destroy(){ this.close(); this.menu_el.remove(); this._unbind(); }\r\n\r\n    // ----- internals -----\r\n    _create_root(){\r\n        const el = document.createElement('div');\r\n        el.className = 'context-menu';\r\n        el.style.display = 'none';\r\n        el.setAttribute('role','menu');\r\n        document.body.appendChild(el);\r\n        return el;\r\n    }\r\n\r\n    _bind(){\r\n        const types = Array.isArray(this.activation) ? this.activation : [this.activation];\r\n        this._on_trigger = (ev) => this.open_for_event(ev);\r\n        for (const t of types) this.container.addEventListener(t, this._on_trigger);\r\n    }\r\n\r\n    _unbind(){\r\n        const types = Array.isArray(this.activation) ? this.activation : [this.activation];\r\n        if (this._on_trigger) for (const t of types) this.container.removeEventListener(t, this._on_trigger);\r\n    }\r\n\r\n    _resolve_target(ev){\r\n        if (this.mode === 'always') return ev.target;\r\n        if (this.mode === 'selector' && this.selector) return ev.target.closest(this.selector);\r\n        return null;\r\n    }\r\n\r\n    _build_ctx(ev, target){\r\n        return {\r\n        event: ev,\r\n        target,\r\n        data: target?.dataset ?? {},\r\n        ...(this.context_fn ? (this.context_fn(ev, target) || {}) : {})\r\n        };\r\n    }\r\n\r\n    _render_items(ctx){\r\n        this.menu_el.innerHTML = '';\r\n        for (const item of this.items){\r\n        if (!item.visible(ctx)) continue;\r\n        const node = item.render(ctx, this);\r\n        this.menu_el.appendChild(node);\r\n        }\r\n        if (!this.menu_el.childElementCount){\r\n        const empty = document.createElement('div');\r\n        empty.className = 'context-menu__item';\r\n        empty.textContent = 'No actions';\r\n        empty.setAttribute('aria-disabled','true');\r\n        this.menu_el.appendChild(empty);\r\n        }\r\n    }\r\n\r\n    _open_at(x, y){\r\n        this.menu_el.style.display = 'block';\r\n        this.menu_el.style.left = '0px';\r\n        this.menu_el.style.top = '0px';\r\n        const { width, height } = this.menu_el.getBoundingClientRect();\r\n        const vw = document.documentElement.clientWidth;\r\n        const vh = document.documentElement.clientHeight;\r\n        const px = Math.min(x, vw - width - 4);\r\n        const py = Math.min(y, vh - height - 4);\r\n        this.menu_el.style.left = `${Math.max(4, px)}px`;\r\n        this.menu_el.style.top  = `${Math.max(4, py)}px`;\r\n        this.is_open = true;\r\n\r\n        this._on_doc_click = (e) => { if (!this.menu_el.contains(e.target)) this.close(); };\r\n        this._on_doc_key = (e) => { if (e.key === 'Escape') this.close(); };\r\n        this._on_win_resize = () => this.close();\r\n        document.addEventListener('click', this._on_doc_click, true);\r\n        document.addEventListener('keydown', this._on_doc_key, true);\r\n        window.addEventListener('resize', this._on_win_resize, true);\r\n        window.addEventListener('scroll', this._on_win_resize, true);\r\n    }\r\n}\r\n", "import cssText from './editable_text.css';\r\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\r\nensure_stylesheet(cssText, \"webtool__editable_text_css\");\r\n\r\nexport * from './editable_text.js';\r\n", ".editable-text{display:inline-block;position:relative}\r\n.editable-text .edit{display:none;font:inherit;border:1px solid #ccc;padding:2px 6px;background:transparent}\r\n.editable-text.is-editing .view{display:none}\r\n.editable-text.is-editing .edit{display:inline-block}\r\n", "export class EditableText {\r\n    static _reg = new Map();\r\n    static _inited = false;\r\n    static _esc(s){return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\"/g,'&quot;').replace(/'/g,'&#39;')}\r\n    static _uid(){return 'et_'+Math.random().toString(36).slice(2,8)+Date.now().toString(36)}\r\n  \r\n    constructor({ value, tag='h2', id=null, on_save=null, on_cancel=null }){\r\n      this.id = id || EditableText._uid();\r\n      this.value = value ?? '';\r\n      this.tag = tag;\r\n      this.on_save = on_save;\r\n      this.on_cancel = on_cancel;\r\n      EditableText._reg.set(this.id, this);\r\n      EditableText.init();\r\n    }\r\n  \r\n    toString(){\r\n      const v = EditableText._esc(this.value);\r\n      return `<div class=\"editable-text\" data-editable-id=\"${this.id}\">\r\n        <${this.tag} class=\"view\">${v}</${this.tag}>\r\n        <input class=\"edit\" type=\"text\" value=\"${v}\">\r\n      </div>`;\r\n    }\r\n  \r\n    static init(){\r\n      if (EditableText._inited) return;\r\n      EditableText._inited = true;\r\n  \r\n      document.addEventListener('dblclick', (e) => {\r\n        const root = e.target.closest('.editable-text');\r\n        if (!root) return;\r\n        const input_el = root.querySelector('.edit');\r\n        const view_el  = root.querySelector('.view');\r\n        const initial = view_el.textContent.trim();\r\n        root.setAttribute('data-initial', initial);\r\n        input_el.value = initial;\r\n        root.classList.add('is-editing');\r\n        input_el.size = Math.max(1, input_el.value.length);\r\n        input_el.focus(); input_el.select();\r\n      });\r\n  \r\n      document.addEventListener('keydown', (e) => {\r\n        if (!e.target.matches('.editable-text.is-editing .edit')) return;\r\n        const root = e.target.closest('.editable-text');\r\n        if (e.key === 'Enter'){ e.preventDefault(); EditableText._commit(root); }\r\n        else if (e.key === 'Escape'){ e.preventDefault(); EditableText._cancel(root); }\r\n        else if (e.key.length === 1){\r\n          const input_el = root.querySelector('.edit');\r\n          queueMicrotask(() => input_el.size = Math.max(1, input_el.value.length));\r\n        }\r\n      });\r\n  \r\n      document.addEventListener('blur', (e) => {\r\n        if (!e.target.matches('.editable-text.is-editing .edit')) return;\r\n        EditableText._commit(e.target.closest('.editable-text'));\r\n      }, true);\r\n    }\r\n  \r\n    static async _commit(root){\r\n      if (!root || !root.classList.contains('is-editing')) return;\r\n      const input_el = root.querySelector('.edit');\r\n      const view_el  = root.querySelector('.view');\r\n      const inst     = EditableText._reg.get(root.getAttribute('data-editable-id'));\r\n      const old_val  = root.getAttribute('data-initial') ?? view_el.textContent.trim();\r\n      const new_val  = (input_el.value || '').trim();\r\n  \r\n      root.classList.remove('is-editing');\r\n      if (!new_val || new_val === old_val){ input_el.value = old_val; return; }\r\n  \r\n      const prev = view_el.textContent;\r\n      view_el.textContent = new_val;\r\n      try{\r\n        if (inst?.on_save){\r\n          const r = inst.on_save(new_val, inst);\r\n          if (r && typeof r.then === 'function') await r;\r\n        }\r\n        if (inst) inst.value = new_val;\r\n      }catch(err){\r\n        view_el.textContent = prev;\r\n        input_el.value = prev;\r\n        console.error('editable_text save failed:', err);\r\n      }\r\n    }\r\n  \r\n    static _cancel(root){\r\n      if (!root) return;\r\n      const input_el = root.querySelector('.edit');\r\n      const view_el  = root.querySelector('.view');\r\n      const inst     = EditableText._reg.get(root.getAttribute('data-editable-id'));\r\n      input_el.value = root.getAttribute('data-initial') ?? view_el.textContent.trim();\r\n      root.classList.remove('is-editing');\r\n      try{ inst?.on_cancel?.(inst); }catch(_){}\r\n    }\r\n}", "import cssText from './navigator.css';\r\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\r\nensure_stylesheet(cssText, \"webtool__navigator_css\");\r\n\r\nexport * from './navigator.js';\r\n", "\r\n.navigator {\r\n    width: 100%;\r\n    font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, sans-serif;\r\n    border-radius: 8px;\r\n    overflow: hidden;\r\n}\r\n\r\n.navigator-bar {\r\n    display: flex;\r\n    gap: 0.25rem;\r\n    border-bottom: 1px solid rgba(0,0,0,0.05);\r\n    position: relative;\r\n    z-index: 2;\r\n}\r\n\r\n.navigator-tab {\r\n    background: #f1f3f5;\r\n    color: #495057;\r\n    border: 1px solid transparent;\r\n    border-radius: 6px 6px 0 0;\r\n    padding: 0.3rem 1rem;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease-in-out;\r\n    position: relative;\r\n    top: 2px;\r\n    z-index: 1;\r\n    margin-bottom: 2px;\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 4px;\r\n}\r\n\r\n.navigator-tab > span {\r\n    font-size: 18px;\r\n}\r\n\r\n.navigator-tab:hover {\r\n    background-color: #dee2e6;\r\n}\r\n\r\n.navigator-tab.active {\r\n    background: #fff;\r\n    color: #0d6efd;\r\n    border: 1px solid rgba(0,0,0,0.1);\r\n    border-bottom: 1px solid #fff; /* Seamless with content */\r\n    z-index: 3;\r\n    font-weight: 500;\r\n    margin: 0;\r\n}\r\n\r\n.navigator-content {\r\n    background: #fff;\r\n    padding: 18px;\r\n    border-radius: 0 0 8px 8px;\r\n    border: 1px solid rgba(0,0,0,0.1);\r\n    position: relative;\r\n    top: -1px;\r\n    z-index: 1;\r\n}\r\n\r\n.print-bundle { display: none; }\r\n\r\n@media print {\r\n  /* n\u2019imprimer que le bundle */\r\n  body:has( .print-bundle) > *:not(.print-bundle) { display: none !important; }\r\n  .print-bundle { display: flex !important; flex-direction: column; break-inside: auto;}\r\n\r\n  /* couleurs/fonds conserv\u00E9s */\r\n  html, body { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }\r\n\r\n\r\n  .print-page {\r\n    display: block;\r\n    width: auto !important;\r\n    overflow: visible !important;\r\n    border: none !important;\r\n    break-inside: avoid;\r\n    break-before: page;\r\n    break-after: page;\r\n  }\r\n\r\n  /* Neutraliser des styles web potentiellement g\u00EAnants */\r\n  .print-bundle .navigator-content,\r\n  .print-bundle .data-wrapper {\r\n    width: auto !important;\r\n    max-height: none !important;\r\n    overflow: visible !important;\r\n    box-shadow: none !important;\r\n    padding: 0 !important;\r\n    margin: 0 !important;\r\n    break-inside: auto;\r\n  }\r\n}\r\n", "export class Navigator {\r\n    constructor(max_tab_number = -1, max_tab_message = null, open_tab_event = null, delete_event = null) {\r\n      this.tabs = new Map(); // tab_id \u2192 { label, button: Element|null, content: Element, hidden, count_towards_limit }\r\n      this.current = null;\r\n      this.max_tab_number = max_tab_number;\r\n      this.max_tab_message = max_tab_message;\r\n      this.tab_count = 0;\r\n\r\n      this.delete_event = delete_event;\r\n      this.open_tab_event = open_tab_event;\r\n    }\r\n\r\n    draw(target) {\r\n      const root = typeof target === \"string\" ? document.querySelector(target) : target;\r\n      this.container = document.createElement(\"div\");\r\n      this.container.className = \"navigator\";\r\n\r\n      this.navbar = document.createElement(\"div\");\r\n      this.navbar.className = \"navigator-bar\";\r\n\r\n      this.content_area = document.createElement(\"div\");\r\n      this.content_area.className = \"navigator-content\";\r\n\r\n      this.container.appendChild(this.navbar);\r\n      this.container.appendChild(this.content_area);\r\n      root.appendChild(this.container);\r\n    }\r\n\r\n    add(tab_id, tab_name, content, { closable = false, hidden = false, count_towards_limit = true } = {}) {\r\n      if (this.tabs.has(tab_id)) return;\r\n\r\n      if (count_towards_limit && this.max_tab_number >= 0 && this.tab_count === this.max_tab_number) {\r\n        if (this.max_tab_message) toast(\"warning\", this.max_tab_message);\r\n        return;\r\n      }\r\n\r\n      if (count_towards_limit) this.tab_count += 1;\r\n\r\n      let button = null;\r\n      if (!hidden) {\r\n        button = document.createElement(\"button\");\r\n        button.className = \"navigator-tab\";\r\n        button.id = tab_id;\r\n        button.textContent = tab_name;\r\n        button.addEventListener(\"click\", () => this.open(tab_id));\r\n\r\n        if (closable) {\r\n          const close = document.createElement(\"span\");\r\n          close.className = \"material-symbols-outlined btn-close\";\r\n          close.innerHTML = \"close\";\r\n          close.addEventListener(\"click\", (event) => {\r\n            event.stopPropagation();\r\n            this.delete(tab_id);\r\n          });\r\n          button.appendChild(close);\r\n        }\r\n        this.navbar.appendChild(button);\r\n      }\r\n\r\n      const content_node = document.createElement(\"div\");\r\n      content_node.id = tab_id;\r\n      content_node.style.display = \"none\";\r\n\r\n      if (typeof content === \"string\") {\r\n        content_node.innerHTML = content;\r\n      } else {\r\n        content_node.appendChild(content.cloneNode(true));\r\n      }\r\n      this.content_area.appendChild(content_node);\r\n\r\n      this.tabs.set(tab_id, {\r\n        label: tab_name,\r\n        button,\r\n        content: content_node,\r\n        hidden: !!hidden,\r\n        count_towards_limit: !!count_towards_limit,\r\n      });\r\n\r\n      if (!this.current && !hidden) this.open(tab_id);\r\n    }\r\n\r\n    add_hidden(tab_id, tab_name, content, opts = {}) {\r\n      return this.add(tab_id, tab_name, content, { ...opts, hidden: true });\r\n    }\r\n\r\n    set(tab_id, new_content) {\r\n      const tab = this.tabs.get(tab_id);\r\n      if (!tab) return;\r\n\r\n      tab.content.innerHTML = \"\";\r\n      if (typeof new_content === \"string\") {\r\n        tab.content.innerHTML = new_content;\r\n      } else {\r\n        tab.content.appendChild(new_content.cloneNode(true));\r\n      }\r\n    }\r\n\r\n    open(tab_id) {\r\n      if (!this.tabs.has(tab_id)) {\r\n        console.error(`tab id: <${tab_id}> not found in <${Array.from(this.tabs.keys())}>`);\r\n        return;\r\n      }\r\n      this.open_tab_event?.(tab_id);\r\n\r\n      if (this.current && this.tabs.has(this.current)) {\r\n        const current_tab = this.tabs.get(this.current);\r\n        current_tab.button?.classList.remove(\"active\");\r\n        current_tab.content.style.display = \"none\";\r\n      }\r\n\r\n      const tab = this.tabs.get(tab_id);\r\n      tab.button?.classList.add(\"active\");\r\n      tab.content.style.display = \"block\";\r\n      this.current = tab_id;\r\n    }\r\n\r\n    delete(tab_id) {\r\n      const tab = this.tabs.get(tab_id);\r\n      if (!tab) return;\r\n\r\n      this.delete_event?.(tab_id);\r\n      tab.button?.remove();\r\n      tab.content.remove();\r\n      this.tabs.delete(tab_id);\r\n\r\n      if (tab.count_towards_limit) this.tab_count -= 1;\r\n\r\n      if (this.current === tab_id) {\r\n        const next_id = this.tabs.keys().next().value;\r\n        this.current = null;\r\n        if (next_id) this.open(next_id);\r\n      }\r\n    }\r\n\r\n    order(tab_id_list) {\r\n      const ordered = [];\r\n      for (const tab_id of tab_id_list) {\r\n        const tab = this.tabs.get(tab_id);\r\n        if (tab?.button) ordered.push(tab.button);\r\n      }\r\n      if (ordered.length) this.navbar.append(...ordered);\r\n    }\r\n\r\n    ids({ include_hidden = false } = {}) {\r\n      const out = [];\r\n      for (const [id, t] of this.tabs.entries()) {\r\n        if (include_hidden || !t.hidden) out.push(id);\r\n      }\r\n      return out;\r\n    }\r\n\r\n    static from(html_node, { max_tab_number = -1, max_tab_message = null, delete_event = null } = {}) {\r\n      const nav = new Navigator(max_tab_number, max_tab_message, null, delete_event);\r\n\r\n      nav.container = html_node;\r\n      if (!nav.container.classList.contains(\"navigator\")) {\r\n        nav.container.classList.add(\"navigator\");\r\n      }\r\n      nav.navbar = nav.container.querySelector(\".navigator-bar\");\r\n      nav.content_area = nav.container.querySelector(\".navigator-content\");\r\n\r\n      nav.container.querySelectorAll(\"[data-tab-id]\").forEach((el) => {\r\n        const tab_id = el.getAttribute(\"data-tab-id\");\r\n        const tab_name = el.getAttribute(\"data-tab-name\") || tab_id;\r\n        const closable = el.getAttribute(\"data-closable\") === \"true\";\r\n        const hidden = el.getAttribute(\"data-hidden\") === \"true\";\r\n        const content_node = el.querySelector(\".navigator-tab-content\");\r\n        nav.add(tab_id, tab_name, content_node, { closable, hidden });\r\n      });\r\n\r\n      return nav;\r\n    }\r\n\r\n    print_tabs(tab_ids, { filename = null } = {}) {\r\n      const prev_title = document.title;\r\n      if (filename) document.title = filename;\r\n\r\n      const bundle = document.createElement(\"div\");\r\n      bundle.className = \"print-bundle\";\r\n\r\n      for (const id of tab_ids) {\r\n        const tab = this.tabs.get(id);\r\n        if (!tab) continue;\r\n\r\n        const page = document.createElement(\"section\");\r\n        page.className = \"print-page navigator-content\";\r\n\r\n        const clone = tab.content.cloneNode(true);\r\n        clone.style.removeProperty(\"display\");\r\n        clone.querySelectorAll('[style*=\"display: none\"]').forEach(el => el.style.removeProperty(\"display\"));\r\n\r\n        clone.querySelectorAll(\"canvas\").forEach(c => {\r\n          try {\r\n            const img = new Image();\r\n            img.src = c.toDataURL(\"image/png\");\r\n            img.width = c.width; img.height = c.height;\r\n            c.replaceWith(img);\r\n          } catch { /* no-op */ }\r\n        });\r\n        page.appendChild(clone);\r\n        bundle.appendChild(page);\r\n      }\r\n\r\n      document.body.appendChild(bundle);\r\n\r\n      const cleanup = () => {\r\n        bundle.remove();\r\n        document.title = prev_title;\r\n        window.removeEventListener(\"afterprint\", cleanup);\r\n      };\r\n      window.addEventListener(\"afterprint\", cleanup);\r\n\r\n      setTimeout(() => window.print(), 0);\r\n    }\r\n}\r\n", "import cssText from './pop_up.css';\r\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\r\nensure_stylesheet(cssText, \"webtool__pop_up_css\");\r\n\r\nexport * from './pop_up.js';\r\n", "/* PopUp \u2013 styles unifi\u00E9s, sans blur */\r\n.pop-up-wrapper{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999}\r\n.pop-up-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.45)}\r\n.showcase-background{position:absolute;inset:0;pointer-events:none;outline:9999px solid rgba(0,0,0,.35)}\r\n\r\n.pop-up{\r\n  position:relative;min-width:280px;max-width:90vw;max-height:90vh;overflow:auto;\r\n  background:#fff;border:1px solid #e5e7eb;border-radius:10px;\r\n  box-shadow:0 12px 32px rgba(0,0,0,.18);padding:16px\r\n}\r\n\r\n.pop-up .title{font-size:1.5rem;margin-bottom:14px;width:100%;text-align:center}\r\n.pop-up-message{margin-bottom:12px}\r\n\r\n.pop-up-buttons{display:flex; gap:8px; justify-content:flex-end; margin-top:16px}\r\n\r\n/* Boutons \u2014 pas de transform, effet net via background/border/shadow + anneau ::after */\r\n.pop-up button{\r\n  position: relative; padding:6px 20px; cursor:pointer;\r\n  border: 1px solid #e5e7eb; background:#f8fafc;\r\n  transition: background-color .18s ease, border-color .18s ease, box-shadow .18s ease;\r\n}\r\n.pop-up button:hover{\r\n  box-shadow:0 2px 8px rgba(0,0,0,.06), 0 6px 18px rgba(0,0,0,.08);\r\n}\r\n.pop-up button::after{\r\n  content:\"\"; position:absolute; inset:-1px; border-radius:inherit;\r\n  box-shadow:0 0 0 0 rgba(59,130,246,.28); opacity: 0; pointer-events:none;\r\n  transition:box-shadow .18s ease, opacity .18s ease;\r\n}\r\n.pop-up button:hover::after{ box-shadow:0 0 0 2px rgba(59,130,246,.16); opacity:1 }\r\n\r\n.pop-up button:focus-visible{ outline: 1px solid #94a3b8; outline-offset: 1px }\r\n\r\n\r\nbutton.yes-button {\r\n    background-color: #e0f7e9;\r\n    border: solid 1px #34c759;\r\n    color: #34c759;\r\n    border-radius: 4px;\r\n}\r\n\r\nbutton.no-button {\r\n    background-color: #fbe2e0;\r\n    border: solid 1px #d4342b;\r\n    color: #d4342b;\r\n    border-radius: 4px;\r\n}\r\n\r\nbutton.next-button {\r\n    background-color: #d8f2fd;\r\n    border: solid 1px #7a9bb0;\r\n    color: #7a9bb0;\r\n    border-radius: 4px;\r\n}\r\n\r\n", "export class PopUp {\r\n    static _id = 0;\r\n  \r\n    constructor({\r\n      content = '',\r\n      backdrop = true,\r\n      backdrop_click_closes = true,\r\n      esc_closes = true,\r\n      extra_backdrop_class = null,   // ex: 'showcase-background'\r\n      buttons = [],                  // [{label, class_name, auto_close=true, on_click}]\r\n      on_open = null,\r\n      on_close = null\r\n    } = {}) {\r\n      this.id = `pop-up-${PopUp._id++}`;\r\n      this.on_open = on_open;\r\n      this.on_close = on_close;\r\n  \r\n      this._wrapper = document.createElement('div');\r\n      this._wrapper.className = 'pop-up-wrapper';\r\n      this._wrapper.id = this.id;\r\n  \r\n      if (backdrop) {\r\n        this._backdrop = document.createElement('div');\r\n        this._backdrop.className = 'pop-up-backdrop';\r\n        this._wrapper.appendChild(this._backdrop);\r\n        if (backdrop_click_closes) this._backdrop.addEventListener('click', () => this.close());\r\n      }\r\n  \r\n      if (extra_backdrop_class) {\r\n        const extra = document.createElement('div');\r\n        extra.className = extra_backdrop_class;\r\n        this._wrapper.appendChild(extra);\r\n      }\r\n  \r\n      this._dialog = document.createElement('div');\r\n      this._dialog.className = 'pop-up';\r\n      this._wrapper.appendChild(this._dialog);\r\n  \r\n      this._message = document.createElement('div');\r\n      this._message.className = 'pop-up-message';\r\n      this._dialog.appendChild(this._message);\r\n  \r\n      this._buttons = document.createElement('div');\r\n      this._buttons.className = 'pop-up-buttons';\r\n      this._dialog.appendChild(this._buttons);\r\n  \r\n      this.set_content(content);\r\n      this.replace_buttons(buttons);\r\n  \r\n      this._on_keydown = (e) => { if (e.key === 'Escape' && esc_closes) this.close(); };\r\n    }\r\n  \r\n    set_content(content) {\r\n      if (content instanceof Node) this._message.replaceChildren(content);\r\n      else this._message.innerHTML = content ?? '';\r\n      return this;\r\n    }\r\n  \r\n    add_button({ label, class_name = '', auto_close = true, on_click = null }) {\r\n      const btn = document.createElement('button');\r\n      if (class_name) btn.className = class_name;\r\n      btn.textContent = label;\r\n      btn.addEventListener('click', () => {\r\n        on_click && on_click();\r\n        if (auto_close) this.close();\r\n      });\r\n      this._buttons.appendChild(btn);\r\n      return this;\r\n    }\r\n  \r\n    replace_buttons(list = []) {\r\n      this._buttons.replaceChildren();\r\n      for (const spec of list) this.add_button(spec);\r\n      return this;\r\n    }\r\n  \r\n    open() {\r\n      document.body.appendChild(this._wrapper);\r\n      document.addEventListener('keydown', this._on_keydown, true);\r\n      this.on_open && this.on_open(this);\r\n      return this;\r\n    }\r\n  \r\n    close() {\r\n      if (!this._wrapper.isConnected) return this;\r\n      document.removeEventListener('keydown', this._on_keydown, true);\r\n      this._wrapper.remove();\r\n      this.on_close && this.on_close(this);\r\n      return this;\r\n    }\r\n  \r\n    // Shortcuts\r\n    static confirm(message, { yes_label = 'Yes', no_label = 'No', on_yes = null, on_no = null } = {}) {\r\n      return new PopUp({\r\n        content: message,\r\n        buttons: [\r\n          { label: yes_label, class_name: 'yes-button', auto_close: true, on_click: on_yes },\r\n          { label: no_label,  class_name: 'no-button',  auto_close: true, on_click: on_no  },\r\n        ]\r\n      });\r\n    }\r\n  \r\n    static next(message, { text = 'Next', on_next = null, backdrop = true, backdrop_click_closes = false, before_open = null } = {}) {\r\n      return new PopUp({\r\n        content: message,\r\n        backdrop,\r\n        backdrop_click_closes,\r\n        buttons: [{ label: text, class_name: 'next-button', auto_close: true, on_click: on_next }],\r\n        on_open: (pop) => { before_open && before_open(pop._dialog); }\r\n      });\r\n    }\r\n  \r\n    static showcase(message) {\r\n      return new PopUp({\r\n        content: message,\r\n        backdrop: true,\r\n        extra_backdrop_class: 'showcase-background'\r\n      });\r\n    }\r\n  }\r\n  ", "import cssText from './table.css'; \r\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\r\nensure_stylesheet(cssText, 'webtool__table_css');\r\n\r\nimport { DataTableBase } from './mixins/base.js';\r\nimport { with_plugins } from './mixins/plugins.js';\r\nimport { with_columns_api } from './mixins/columns_api.js';\r\nimport { with_rows_api } from './mixins/rows_api.js';\r\nimport { with_dom } from './mixins/dom.js';\r\nimport { with_enhance } from './mixins/enhance.js';\r\nimport { with_exports } from './mixins/exports.js';\r\n\r\nclass _DT0 extends DataTableBase {}\r\nclass _DT1 extends with_plugins(_DT0) {}\r\nclass _DT2 extends with_columns_api(_DT1) {}\r\nclass _DT3 extends with_rows_api(_DT2) {}\r\nclass _DT4 extends with_dom(_DT3) {}\r\nclass _DT5 extends with_enhance(_DT4) {}\r\nexport class DataTable extends with_exports(_DT5) {}\r\n\r\n\r\n// Plugins (leurs fichiers exportent les classes)\r\nimport { Search }     from './plugins/search.js'\r\nimport { Sort }       from './plugins/sort.js'\r\nimport { Pagination } from './plugins/pagination.js'\r\nimport { Downloads }  from './plugins/downloads.js'\r\n\r\n// Enregistrement + attache statique pour autocompl\u00E9tion\r\nDataTable.register_plugin('search',     Search)\r\nDataTable.register_plugin('sort',       Sort)\r\nDataTable.register_plugin('pagination', Pagination)\r\nDataTable.register_plugin('downloads',  Downloads)\r\n", "/* .dtbl{border-collapse:collapse;width:100%}\r\n.dtbl-sticky thead th{position:sticky;top:0;background:#fff;z-index:1}\r\n.dtbl thead th{border-bottom:1px solid #e5e7eb;padding:.45rem .55rem;white-space:nowrap}\r\n.dtbl td{padding:.4rem .55rem;border-bottom:1px solid #f1f5f9}\r\n.dtbl tbody tr:nth-child(odd){background:#fafafa}\r\n.dtbl thead th .dtbl-sort{margin-left:.35rem;opacity:.6;font-size:.8em}\r\n.dtbl-toolbar{display:flex;gap:.5rem;align-items:center;margin:.5rem 0;flex-wrap:wrap}\r\n.dtbl-search{padding:.35rem .5rem;min-width:240px}\r\n.dtbl-dl{display:flex;gap:.5rem}\r\n.dtbl-dl button,.dtbl-pager button{padding:.35rem .6rem;cursor:pointer;border:1px solid #e5e7eb;border-radius:6px;background:#f8fafc}\r\n.dtbl-pager{display:flex;gap:.5rem;align-items:center;margin:.5rem 0}\r\n.dtbl-page-label{min-width:7.5rem;text-align:center} */\r\n\r\n/* barre */\r\n.dtbl-toolbar {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n.dtbl-btn.dtbl-btn-icon { display:inline-flex; align-items:center; justify-content:center; width:32px; height:32px; border:1px solid #e5e7eb; border-radius:6px; background:#fff; cursor:pointer; }\r\n.dtbl-btn.dtbl-btn-icon:hover { background:#f8fafc; }\r\n\r\n/* popup contenu */\r\n.dtbl-dl__stats { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:6px 12px; margin-bottom:12px; font-size:.9rem; border: solid 3px #f8fafc; padding: 8px;}\r\n.dtbl-dl__scope { display:flex; gap:16px; align-items:center; margin:10px 0 14px 6px; flex-wrap:wrap; }\r\n.dtbl-dl__legend { font-weight:600; margin-right:6px; }\r\n.dtbl-dl__actions { display:flex; flex-wrap:wrap; gap:8px; }\r\n.dtbl-dl__btn, .dtbl-page-prev, .dtbl-page-next { padding:6px 12px; border:1px solid #e5e7eb; background:#fff; border-radius:6px; cursor:pointer; display: flex; align-items: center; gap: 6px;}\r\n.dtbl-dl__btn:hover, .dtbl-page-prev:not([disabled]):hover, .dtbl-page-next:not([disabled]):hover { background:#f3f4f6; }\r\n.dtbl-page-prev[disabled], .dtbl-page-next[disabled] {cursor: default;}\r\n\r\n.dtbl-dl__btn.btn-csv { color:#2e7d32; }\r\n.dtbl-dl__btn.btn-tsv { color:#388e3c; }\r\n.dtbl-dl__btn.btn-json{ color:#ef6c00; }\r\n.dtbl-dl__btn.btn-md  { color:#1565c0; }\r\n.dtbl-dl__btn.btn-copy{ color:#6a1b9a; }\r\n\r\n.dtbl-pager {\r\n    display: flex;\r\n    gap: 6px;\r\n    margin: 12px 0;\r\n    align-items: center;\r\n}\r\n\r\nth .dtbl-sort{ margin-left:6px; font-size:.9em; opacity:.75; width: 18px; height: 18px; display: inline-flex; align-items: center; justify-content: center;}\r\nth.is-sorted .dtbl-sort{ opacity:1; }\r\nth .dtbl-sort-idx{\r\n  margin-left:4px; font-size:.7em; vertical-align:super; opacity:.85;\r\n  padding:0 .25em; border-radius:6px; background:rgba(212, 210, 210, 0.06);\r\n}\r\n\r\n:root{\r\n    --dtbl-row-even: #F5F5F5;\r\n    --dtbl-row-odd:  #fff;\r\n}\r\n\r\n\r\n.dtbl tbody tr.dtbl-row-odd  { background: var(--dtbl-row-odd); }\r\n.dtbl tbody tr.dtbl-row-even { background: var(--dtbl-row-even); }\r\n\r\n\r\n.table-1 {\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    font-size: 14px;\r\n    color: #999999;\r\n    font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, sans-serif;\r\n}\r\n\r\n.table-1 td {\r\n    padding: 8px 12px;\r\n    text-align: center;\r\n}\r\n\r\n.table-1 thead > tr:nth-child(1) th:not(.outside):first-of-type {\r\n    border-radius: 8px 0 0 0;\r\n}\r\n\r\n.table-1 thead > tr:nth-child(1) th:not(.outside):last-of-type,\r\n.table-1 thead > tr:has(> th:last-child.outside) > th:nth-last-child(2) {\r\n    border-radius: 0 8px 0 0;\r\n}\r\n\r\n.table-1 th:not(.outside) {\r\n    background-color: #36304A;\r\n    font-weight: 400;\r\n    color: #f4f1f6;\r\n    text-align: center;\r\n    padding: 4px 12px;\r\n    min-width: max-content;\r\n    border-bottom: solid 1px #c1b8c7;\r\n}\r\n\r\n.table-1 tbody tr:hover td:not(.outside) {\r\n    color: #292929;\r\n}\r\n\r\n.table-1 td {\r\n    white-space: nowrap;\r\n}\r\n\r\n.table-1.static td {\r\n    border: solid 1px #d9d9d9;\r\n    color: #292929 !important;\r\n}\r\n\r\n.table-1 .outside {\r\n    background-color: var(--background-color);\r\n    border: none;\r\n    width: fit-content;\r\n    cursor: default;\r\n}\r\n\r\n.table-1 th .dtbl-sort { display:inline-block; width:1.2em; text-align:center; margin-left:6px; opacity:.75; }\r\n.table-1 th.is-sorted .dtbl-sort { opacity:1; }\r\n.table-1 th .dtbl-sort-idx{\r\n  display:inline-block; min-width:1.1em; margin-left:4px; font-size:.9em; vertical-align:super;\r\n  padding:0 .35em; border-radius:6px; background:#fff; color: #000000; position: absolute;\r\n}\r\n", "export class DataTableRegistry {\r\n    static reg = new Map();\r\n    static inited = false;\r\n    static uid(){ return 'dt_'+Math.random().toString(36).slice(2,8)+Date.now().toString(36) }\r\n    static init(){\r\n      if (this.inited) return; this.inited = true;\r\n      document.addEventListener('input', (e)=>{\r\n        const wrap = e.target.closest('[data-dtbl-id]'); if (!wrap) return;\r\n        const inst = this.reg.get(wrap.dataset.dtblId); if (!inst) return;\r\n        inst._dispatch_input(e);\r\n      });\r\n      document.addEventListener('click', (e)=>{\r\n        const wrap = e.target.closest('[data-dtbl-id]'); if (!wrap) return;\r\n        const inst = this.reg.get(wrap.dataset.dtblId); if (!inst) return;\r\n        inst._dispatch_click(e);\r\n      });\r\n    }\r\n}\r\n", "/**\r\n * TableState = source de v\u00E9rit\u00E9 des donn\u00E9es/colonnes + vue d\u00E9riv\u00E9e.\r\n * - Pas de DOM ici.\r\n * - Public: getters/setters clairs (colonnes, lignes, tri, filtre, pagination).\r\n * - Priv\u00E9: tout pr\u00E9fix\u00E9 par \"_\".\r\n */\r\nexport class TableState {\r\n  /**\r\n   * @param {{locale?: string}} [opts]\r\n   */\r\n  constructor({ locale } = {}) {\r\n    // Utilis\u00E9 par l'orchestrateur pour comparer du texte proprement\r\n    this.collator = new Intl.Collator(locale, { numeric: true, sensitivity: 'base' });\r\n    // Formatters par colonne: col_id -> (value,row) => string|HTML\r\n    this.formatters = new Map();\r\n\r\n    // --- \u00E9tat interne (priv\u00E9) ---\r\n    this._columns = [];   // arbre de colonnes (groupes + feuilles)\r\n    this._rows = [];   // donn\u00E9es brutes\r\n    this._view_rows = [];   // donn\u00E9es apr\u00E8s filtre/tri\r\n    this._sort_state = [];   // [{ key, asc }]\r\n    this._query = '';   // filtre global en plein texte\r\n    this._page_size = null; // null => pas de pagination\r\n    this._page = 1;    // 1-indexed\r\n  }\r\n\r\n  // ---------------------------\r\n  // Colonnes \u2014 API publique\r\n  // ---------------------------\r\n\r\n  /** Copie profonde de l\u2019arbre de colonnes. */\r\n  get_columns() { return JSON.parse(JSON.stringify(this._columns)); }\r\n\r\n  /** Feuilles: [{id,label,type?,sortable?,width?,align?}] */\r\n\r\n\r\n  /** Remplace toutes les colonnes (arbre possible). */\r\n  set_columns(cols) { this._columns = this._norm_cols(cols || []); return this; }\r\n\r\n  /** Patch une feuille par id (align, label, type, sortable, width, \u2026). */\r\n  update_column(id, patch = {}) {\r\n    const c = this.flat_columns().find(x => x.id === id);\r\n    if (!c) throw new Error(`TableState.update_column: unknown column \"${id}\"`);\r\n    Object.assign(c, patch);\r\n    return this;\r\n  }\r\n\r\n  /** Patch de masse: { id: {\u2026}, id2: {\u2026} } */\r\n  set_columns_meta(meta_by_id = {}) {\r\n    const flat = this.flat_columns();\r\n    for (const [id, meta] of Object.entries(meta_by_id)) {\r\n      const c = flat.find(x => x.id === id);\r\n      if (c) Object.assign(c, meta);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /** Toutes les feuilles (ordonn\u00E9es). */\r\n  flat_columns() {\r\n    const out = [];\r\n    (function walk(list) { list.forEach(c => c.children ? walk(c.children) : out.push(c)); })(this._columns);\r\n    return out;\r\n  }\r\n  get_flat_columns() {\r\n    const flat = this.flat_columns();\r\n      return flat.map(c => ({\r\n        id: c.id,\r\n        label: c.label,\r\n        type: c.type,\r\n        sortable: c.sortable === true,\r\n        width: c.width,\r\n        align: c.align,\r\n        searchable: c.searchable === true\r\n      }));\r\n  }\r\n\r\n  /** Profondeur maximum des en-t\u00EAtes (utile au renderer). */\r\n  header_depth() {\r\n    const depth = (list) => Math.max(0, ...list.map(c => c.children ? 1 + depth(c.children) : 1));\r\n    return depth(this._columns);\r\n  }\r\n\r\n  /** Nombre de feuilles sous un n\u0153ud. */\r\n  leaf_count(node) {\r\n    if (!node.children) return 1;\r\n    return node.children.reduce((s, ch) => s + this.leaf_count(ch), 0);\r\n  }\r\n\r\n  // ---------------------------\r\n  // Donn\u00E9es \u2014 API publique\r\n  // ---------------------------\r\n\r\n  /** Remplace toutes les lignes. */\r\n  set_rows(rows) { this._rows = Array.isArray(rows) ? rows.slice() : []; return this; }\r\n\r\n  /** Ajoute une ou plusieurs lignes. */\r\n  add_rows(rows = []) { if (!Array.isArray(rows)) rows = [rows]; this._rows.push(...rows); return this; }\r\n\r\n  /** Vide toutes les lignes. */\r\n  clear_rows() { this._rows.length = 0; return this; }\r\n\r\n  /** Patch une ligne par index. */\r\n  update_row_at(index, patch = {}) {\r\n    if (index < 0 || index >= this._rows.length) throw new Error('TableState.update_row_at: index out of range');\r\n    Object.assign(this._rows[index], patch);\r\n    return this;\r\n  }\r\n\r\n  /** D\u00E9finit une cellule (ligne, colonne). */\r\n  set_cell_at(index, col_id, value) {\r\n    if (index < 0 || index >= this._rows.length) throw new Error('TableState.set_cell_at: index out of range');\r\n    (this._rows[index] ??= {})[col_id] = value;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * R\u00E9cup\u00E8re les lignes: 'raw' | 'view' | 'page'\r\n   * - raw  : donn\u00E9es brutes\r\n   * - view : apr\u00E8s filtre/tri\r\n   * - page : tranche pagin\u00E9e courante (apr\u00E8s apply())\r\n   */\r\n  get_rows(scope = 'view') {\r\n    this.apply();\r\n    if (scope === 'raw') return this._rows.slice();\r\n    if (scope === 'view') return this._view_rows.slice();\r\n    if (scope === 'page') return this.page_slice().rows.slice();\r\n    throw new Error(`TableState.get_rows: unknown scope \"${scope}\"`);\r\n  }\r\n\r\n  // ---------------------------\r\n  // Filtre / Tri / Pagination\r\n  // ---------------------------\r\n\r\n  /** D\u00E9finit la requ\u00EAte plein-texte (filtrage global). */\r\n  set_query(q) { this._query = String(q || ''); return this; }\r\n\r\n  /** D\u00E9finit la taille de page (null => pas de pagination) et r\u00E9initialise la page \u00E0 1. */\r\n  set_page_size(n) { this._page_size = n || null; this._page = 1; return this; }\r\n\r\n  /** D\u00E9finit la page courante (1-indexed, born\u00E9e). */\r\n  set_page(p) { this._page = Math.max(1, parseInt(p || 1, 10)); return this; }\r\n\r\n  /**\r\n   * Ajoute/remplace un crit\u00E8re de tri.\r\n   * @param {string} key  id de colonne\r\n   * @param {boolean} [asc=true]\r\n   * @param {boolean} [append=false] true => multi-tri\r\n   */\r\n  sort_by(key, asc = true, append = false) {\r\n    if (!append) this._sort_state = [];\r\n    this._sort_state.push({ key, asc });\r\n    return this;\r\n  }\r\n\r\n  /** Remplace tout l\u2019\u00E9tat de tri: [{key,asc}, \u2026] */\r\n  set_sort(state = []) { this._sort_state = Array.isArray(state) ? state.filter(s => s && s.key) : []; return this; }\r\n\r\n  /** Efface tout tri. */\r\n  clear_sort() { this._sort_state = []; return this; }\r\n\r\n  /**\r\n   * Applique filtre + tri et calcule la vue (_view_rows).\r\n   * \u00C0 appeler avant page_slice() si query/tri/rows ont chang\u00E9.\r\n   */\r\n  apply() {\r\n    const q = this._query.toLowerCase();\r\n    const flat = this.flat_columns();\r\n    const cols = flat.filter(c => c.searchable === true); // <= colonnes fouill\u00E9es\r\n  \r\n    if (!q) {\r\n      this._view_rows = this._rows.slice();\r\n    } else {\r\n      if (cols.length === 0) {\r\n        // par design: d\u00E9faut = false => aucune colonne fouill\u00E9e => aucun match\r\n        this._view_rows = [];\r\n      } else {\r\n        this._view_rows = this._rows.filter(r =>\r\n          cols.some(c => String(r[c.id] ?? '').toLowerCase().includes(q))\r\n        );\r\n      }\r\n    }\r\n  \r\n    // ... (le tri reste inchang\u00E9)\r\n    if (this._sort_state.length) {\r\n      const rows = this._view_rows.map((row, idx) => ({ row, idx }));\r\n      const type_of = (id) => (flat.find(c => c.id === id)?.type) || 'text';\r\n      rows.sort((a, b) => {\r\n        for (const s of this._sort_state) {\r\n          const t = type_of(s.key), av = a.row[s.key], bv = b.row[s.key];\r\n          const cmp = this._compare_values(t, av, bv);\r\n          if (cmp) return s.asc ? cmp : -cmp;\r\n        }\r\n        return a.idx - b.idx;\r\n      });\r\n      this._view_rows = rows.map(x => x.row);\r\n    }\r\n  \r\n    return this;\r\n  }\r\n\r\n  /** Renvoie la tranche pagin\u00E9e courante (apr\u00E8s apply()). */\r\n  page_slice() {\r\n    if (!this._page_size) return { rows: this._view_rows, page: 1, total_pages: 1 };\r\n    const total = Math.max(1, Math.ceil(this._view_rows.length / this._page_size));\r\n    if (this._page > total) this._page = total;\r\n    const start = (this._page - 1) * this._page_size;\r\n    return { rows: this._view_rows.slice(start, start + this._page_size), page: this._page, total_pages: total };\r\n  }\r\n\r\n  // ---------------------------\r\n  // Formatters / Exposition lecture\r\n  // ---------------------------\r\n\r\n  /** Enregistre un formateur pour une colonne. */\r\n  format(col_id, fn) { this.formatters.set(col_id, fn); return this; }\r\n\r\n  // Exposition lecture (compat orchestrateur)\r\n  get sort_state() { return this._sort_state; }\r\n  get page_size() { return this._page_size; }\r\n  get page() { return this._page; }\r\n\r\n  // ---------------------------\r\n  // Priv\u00E9\r\n  // ---------------------------\r\n\r\n  /** Normalise l\u2019arbre de colonnes. */\r\n  _norm_cols(cols, depth = 0, parent = null) {\r\n    return cols.map(c => ({\r\n      id: c.id,\r\n      label: c.label ?? c.id,\r\n      type: c.type || 'text',\r\n      sortable: c.sortable !== false,\r\n      searchable: c.searchable === true,   // <--- ici\r\n      width: c.width || null,\r\n      align: c.align || null,\r\n      comparator: c.comparator || null,\r\n      children: c.children ? this._norm_cols(c.children, depth + 1, c) : null,\r\n      _depth: depth,\r\n      _parent: parent\r\n    }));\r\n  }\r\n\r\n  /** Compare deux valeurs selon le type. Null/'' en dernier. */\r\n  _compare_values(type, a, b) {\r\n    const an = (a == null || a === ''), bn = (b == null || b === '');\r\n    if (an && bn) return 0;\r\n    if (an) return 1;\r\n    if (bn) return -1;\r\n\r\n    if (type === 'number') {\r\n      const na = Number(a), nb = Number(b);\r\n      const aa = Number.isFinite(na) ? na : -Infinity;\r\n      const bb = Number.isFinite(nb) ? nb : -Infinity;\r\n      return aa - bb;\r\n    }\r\n    if (type === 'date') {\r\n      const da = this._coerce_date(a), db = this._coerce_date(b);\r\n      return da - db;\r\n    }\r\n    return this.collator.compare(String(a), String(b));\r\n  }\r\n\r\n  /** Parse \u201Cbest-effort\u201D vers timestamp. */\r\n  _coerce_date(v) {\r\n    if (v instanceof Date) return v.getTime();\r\n    const t = Date.parse(v);\r\n    return Number.isFinite(t) ? t : -8.64e15;\r\n  }\r\n}\r\n", "/* ---------- Renderer (virtual mode) ---------- */\r\nexport class TableRenderer {\r\n    constructor(table){ this.table = table; }\r\n    toolbar_html(){\r\n      return `<div class=\"dtbl-toolbar\">${\r\n        this.table.plugins.map(p=>p.toolbar_html?.()||'').join('')\r\n      }</div>`;\r\n    }\r\n    table_html(){\r\n      const m = this.table.model.apply();\r\n      const flat = m.flat_columns();\r\n      const depth = m.header_depth();\r\n      const head_rows=[];\r\n      (function build(list, lvl=0, self){\r\n        head_rows[lvl] ??= [];\r\n        list.forEach(c=>{\r\n          const has=!!c.children;\r\n          head_rows[lvl].push({\r\n            label:c.label, id:has?null:c.id, colspan:has?self.leaf_count(c):1,\r\n            rowspan:has?1:(depth-lvl), align:c.align, sortable:c.sortable!==false\r\n          });\r\n          if (has) build(c.children, lvl+1, self);\r\n        });\r\n      })(m.columns, 0, m);\r\n  \r\n      const slice = m.page_slice();\r\n  \r\n      let html = `<table class=\"dtbl ${this.table.opts.sticky_header?'dtbl-sticky':''}\"><thead>`;\r\n      for (const row of head_rows){\r\n        html+='<tr>';\r\n        for (const c of row){\r\n          const attrs=[];\r\n          if (c.colspan>1) attrs.push(`colspan=\"${c.colspan}\"`);\r\n          if (c.rowspan>1) attrs.push(`rowspan=\"${c.rowspan}\"`);\r\n          if (c.id) attrs.push(`data-col-id=\"${c.id}\"`);\r\n          if (c.align) attrs.push(`style=\"text-align:${c.align}\"`);\r\n          html += `<th ${attrs.join(' ')}>${c.label}${c.id&&c.sortable?'<span class=\"dtbl-sort\">\u2195</span>':''}</th>`;\r\n        }\r\n        html+='</tr>';\r\n      }\r\n      html+='</thead><tbody>';\r\n      for (const r of slice.rows){\r\n        html+='<tr>';\r\n        for (const c of flat){\r\n          const v = r[c.id];\r\n          const f = this.table.model.formatters.get(c.id);\r\n          const out = f ? f(v, r) : (v==null?'':String(v));\r\n          html += `<td${c.align?` style=\"text-align:${c.align}\"`:''}>${out}</td>`;\r\n        }\r\n        html+='</tr>';\r\n      }\r\n      html+='</tbody></table>';\r\n      // footer toolbars (e.g. pagination)\r\n      html += this.table.plugins.map(p=>p.footer_html?.(slice) || '').join('');\r\n      return html;\r\n    }\r\n  }", "import { DataTableRegistry } from '../registry.js';\r\nimport { TableState } from '../state.js';\r\nimport { TableRenderer } from '../renderer.js';\r\n\r\n/** Noyau: \u00E9tat + construction du mod\u00E8le/rendu. */\r\nexport class DataTableBase {\r\n  /**\r\n   * @param {object} [opts]\r\n   * @param {boolean} [opts.sticky_header=true]\r\n   * @param {string}  [opts.locale]\r\n   */\r\n  constructor(opts = {}) {\r\n    this.id    = DataTableRegistry.uid();\r\n    this.opts  = { sticky_header: true, locale: undefined, ...opts };\r\n    this.mode  = 'virtual';                 // 'virtual' | 'adopt'\r\n    this.model = new TableState({ locale: this.opts.locale });\r\n    this.renderer = new TableRenderer(this);\r\n\r\n    this.plugins = [];\r\n    this._plugin_by_name = new Map();\r\n\r\n    /** @private */ this._wrap = null;\r\n    /** @private */ this._adopt_table = null;\r\n    /** @private */ this._adopt_sort_state = null;\r\n    /** @private */ this._adopt_page = null;\r\n\r\n    DataTableRegistry.reg.set(this.id, this);\r\n    DataTableRegistry.init();\r\n  }\r\n}\r\n", "/** Plugins: registre statique + .use() */\r\nexport function with_plugins(Base) {\r\n    return class DataTableWithPlugins extends Base {\r\n      static plugins = Object.create(null);\r\n      static _names  = [];\r\n  \r\n      /**\r\n       * Enregistre un plugin ('pagination', 'search'\u2026) et l\u2019expose en DataTable.Pagination.\r\n       * @param {string} name\r\n       * @param {Function} cls\r\n       */\r\n      static register_plugin(name, cls) {\r\n        const key = String(name).toLowerCase();\r\n        this.plugins[key] = cls;\r\n        if (!this._names.includes(key)) this._names.push(key);\r\n        const Pascal = key.replace(/(^|[_-])(\\w)/g, (_, __, c) => c.toUpperCase());\r\n        if (!Object.hasOwn(this, Pascal)) Object.defineProperty(this, Pascal, { value: cls, enumerable: true });\r\n      }\r\n  \r\n      /** @returns {string[]} noms des plugins enregistr\u00E9s */\r\n      static plugin_names() { return [...this._names]; }\r\n  \r\n      /**\r\n       * Attache un plugin par nom ou par instance. Expose aussi table.<nom>.\r\n       * @param {string|object} plugin_or_name\r\n       * @param {object} [opts]\r\n       * @returns {this}\r\n       */\r\n      use(plugin_or_name, opts) {\r\n        let inst, name;\r\n        if (typeof plugin_or_name === 'string') {\r\n          name = plugin_or_name.toLowerCase();\r\n          const Cls = this.constructor.plugins[name];\r\n          if (!Cls) throw new Error(`unknown plugin \"${name}\". Available: ${this.constructor.plugin_names().join(', ') || 'none'}`);\r\n          inst = new Cls(opts || {});\r\n        } else {\r\n          inst = plugin_or_name;\r\n          name = (inst?.name || inst?.constructor?.name || 'plugin').toString().toLowerCase();\r\n        }\r\n        inst.attach?.(this);\r\n        this.plugins.push(inst);\r\n        this._plugin_by_name.set(name, inst);\r\n        const prop = name.replace(/-+/g, '_');\r\n        if (!Object.hasOwn(this, prop)) Object.defineProperty(this, prop, { value: inst, enumerable: true });\r\n        this._render_toolbar_dom?.();\r\n        return this;\r\n      }\r\n    };\r\n}\r\n  ", "/** API colonnes (public). Utilise this.model. */\r\nexport function with_columns_api(Base) {\r\n    return class DataTableWithColumns extends Base {\r\n      /** @returns {Array} copie profonde (structure potentiellement group\u00E9e) */\r\n      get_columns() { return this.model.get_columns(); }\r\n  \r\n      /** @returns {Array<{id,label,type?,sortable?,width?,align?}>} feuilles */\r\n      get_flat_columns() { return this.model.get_flat_columns(); }\r\n  \r\n      /**\r\n       * Remplace toutes les colonnes.\r\n       * @param {Array} cols\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      set_columns(cols, { render = true } = {}) {\r\n        this.model.set_columns(cols);\r\n        if (this.mode === 'virtual') {\r\n          if (render) this._render_virtual_body?.(true);\r\n        } else {\r\n          this._apply_column_meta_to_thead?.(this.model.get_flat_columns());\r\n          if (render) this._render_toolbar_dom?.();\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * Patch une colonne feuille (align, label, type, sortable, width, \u2026).\r\n       * @param {string} id\r\n       * @param {object} patch\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      update_column(id, patch = {}, { render = true } = {}) {\r\n        this.model.update_column(id, patch);\r\n        if (this.mode === 'virtual') {\r\n          if (render) this._render_virtual_body?.(true);\r\n        } else {\r\n          const meta = this.model.get_flat_columns().find(c => c.id === id);\r\n          this._apply_column_meta_to_thead?.({ [id]: meta });\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * Patch de masse des colonnes (dictionnaire id -> meta).\r\n       * @param {Record<string,object>} meta_by_id\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      set_columns_meta(meta_by_id = {}, { render = true } = {}) {\r\n        this.model.set_columns_meta(meta_by_id);\r\n        if (this.mode === 'virtual') {\r\n          if (render) this._render_virtual_body?.(true);\r\n        } else {\r\n          this._apply_column_meta_to_thead?.(meta_by_id);\r\n          if (render) this._render_toolbar_dom?.();\r\n        }\r\n        return this;\r\n      }\r\n    };\r\n}\r\n  ", "/** API lignes/donn\u00E9es (public). Utilise this.model. */\r\nexport function with_rows_api(Base) {\r\n    return class DataTableWithRows extends Base {\r\n      /**\r\n       * Remplace toutes les lignes.\r\n       * @param {Array<object>} rows\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      set_rows(rows, { render = true } = {}) {\r\n        this.model.set_rows(rows);\r\n        if (this.mode === 'virtual') {\r\n          if (render) this._render_virtual_body?.(false);\r\n        } else if (render) {\r\n          const q = this._wrap?.querySelector('.dtbl-search')?.value || '';\r\n          this._adopt_filter?.(q);\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * Ajoute une ou plusieurs lignes.\r\n       * @param {object|Array<object>} rows\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      add_rows(rows = [], { render = true } = {}) {\r\n        this.model.add_rows(rows);\r\n        if (this.mode === 'virtual') {\r\n          if (render) this._render_virtual_body?.(false);\r\n        } else if (render) {\r\n          const q = this._wrap?.querySelector('.dtbl-search')?.value || '';\r\n          this._adopt_filter?.(q);\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /** Vide les lignes. */\r\n      clear_rows() {\r\n        this.model.clear_rows();\r\n        if (this.mode === 'virtual') this._render_virtual_body?.(false);\r\n        else this._adopt_filter?.(this._wrap?.querySelector('.dtbl-search')?.value || '');\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * Patch une ligne par index.\r\n       * @param {number} index\r\n       * @param {object} patch\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      update_row_at(index, patch = {}, { render = false } = {}) {\r\n        this.model.update_row_at(index, patch);\r\n        if (render) {\r\n          if (this.mode === 'virtual') this._render_virtual_body?.(false);\r\n          else this._adopt_filter?.(this._wrap?.querySelector('.dtbl-search')?.value || '');\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * D\u00E9finit une cellule.\r\n       * @param {number} index\r\n       * @param {string} col_id\r\n       * @param {*} value\r\n       * @param {{render?:boolean}} [options]\r\n       */\r\n      set_cell_at(index, col_id, value, { render = false } = {}) {\r\n        this.model.set_cell_at(index, col_id, value);\r\n        if (render) {\r\n          if (this.mode === 'virtual') this._render_virtual_body?.(false);\r\n          else this._adopt_filter?.(this._wrap?.querySelector('.dtbl-search')?.value || '');\r\n        }\r\n        return this;\r\n      }\r\n  \r\n      /**\r\n       * R\u00E9cup\u00E8re les lignes.\r\n       * @param {'raw'|'view'|'page'} [scope='view']\r\n       * @returns {Array<object>}\r\n       */\r\n      get_rows(scope = 'view') { return this.model.get_rows(scope); }\r\n  \r\n      /**\r\n       * Hydrate via dict imbriqu\u00E9.\r\n       * @param {Record<string,Record<string,any>>} dict\r\n       * @param {string} [row_key='row']\r\n       */\r\n      from_nested_dict(dict, row_key = 'row') {\r\n        const keys = new Set(); for (const c in dict) Object.keys(dict[c] || {}).forEach(r => keys.add(r));\r\n        const rows = [...keys].map(k => { const o = { [row_key]: k }; for (const c in dict) o[c] = dict[c]?.[k]; return o; });\r\n        return this.set_rows(rows);\r\n      }\r\n  \r\n      /** Colonne formatter */\r\n      format(col_id, fn) { this.model.format(col_id, fn); return this; }\r\n    };\r\n}\r\n  ", "/** DOM & rendu virtual + toolbars. */\r\nexport function with_dom(Base) {\r\n    return class DataTableWithDom extends Base {\r\n      /** Stringification (virtual) */\r\n      toString() {\r\n        return `<div class=\"dtbl-wrap\" data-dtbl-id=\"${this.id}\">${this.renderer.toolbar_html()}${this.renderer.table_html()}</div>`;\r\n      }\r\n  \r\n      /**\r\n       * @private\r\n       * Met \u00E0 jour le DOM (virtual). Si update_header=true, reconstruit <table>.\r\n       * @param {boolean} [update_header=false]\r\n       */\r\n      _render_virtual_body(update_header = false) {\r\n        const wrap = document.querySelector(`[data-dtbl-id=\"${this.id}\"]`); if (!wrap) return;\r\n        if (update_header) wrap.querySelector('table')?.remove();\r\n        if (update_header) {\r\n          wrap.insertAdjacentHTML('beforeend', this.renderer.table_html());\r\n        } else {\r\n          const table = wrap.querySelector('table'); if (!table) { wrap.insertAdjacentHTML('beforeend', this.renderer.table_html()); return; }\r\n          const tbody_new = document.createElement('tbody');\r\n          const m = this.model.apply(); const { rows, page, total_pages } = m.page_slice(); const flat = m.flat_columns();\r\n          for (const r of rows) {\r\n            const tr = document.createElement('tr');\r\n            for (const c of flat) {\r\n              const td = document.createElement('td');\r\n              if (c.align) td.style.textAlign = c.align;\r\n              const f = this.model.formatters.get(c.id); const v = r[c.id];\r\n              td.innerHTML = f ? f(v, r) : (v == null ? '' : String(v));\r\n              tr.appendChild(td);\r\n            }\r\n            tbody_new.appendChild(tr);\r\n          }\r\n          table.tBodies[0]?.replaceWith(tbody_new);\r\n          const label = wrap.querySelector('.dtbl-page-label'); \r\n          if (label) label.textContent = `Page ${page} / ${total_pages}`;\r\n          const prev = wrap.querySelector('.dtbl-page-prev');\r\n            const next = wrap.querySelector('.dtbl-page-next');\r\n            if (prev) prev.disabled = page <= 1;\r\n            if (next) next.disabled = page >= total_pages;\r\n        }\r\n        this._update_sort_icons();\r\n        if (update_header) this._lock_column_widths?.();\r\n        this._apply_zebra?.();\r\n      }\r\n  \r\n    /** @private \u2014 chevrons + badges d\u2019ordre (multi-sort) sur les FEUILLES seulement */\r\n    _update_sort_icons() {\r\n        const wrap  = document.querySelector(`[data-dtbl-id=\"${this.id}\"]`);\r\n        if (!wrap) return;\r\n        const thead = wrap.querySelector('thead');\r\n        if (!thead) return;\r\n    \r\n        // 1) R\u00E9cup\u00E8re les FEUILLES (th de la DERNI\u00C8RE ligne) via grille rowSpan/colSpan\r\n        const trs = Array.from(thead.rows);\r\n        if (!trs.length) return;\r\n        const last_row = trs.length - 1;\r\n    \r\n        const grid = [];\r\n        const place = (r,c,th)=>{ (grid[r]??=[])[c]=th; };\r\n        for (let r=0; r<trs.length; r++){\r\n        let c=0;\r\n        for (const th of trs[r].cells){\r\n            const cs = Math.max(1, th.colSpan||1);\r\n            const rs = Math.max(1, th.rowSpan||1);\r\n            while ((grid[r]?.[c]) != null) c++;\r\n            const start=c, end=start+cs-1;\r\n            for (let rr=r; rr<r+rs; rr++) for (let cc=start; cc<=end; cc++) place(rr,cc,th);\r\n            c = end+1;\r\n        }\r\n        }\r\n        const leaf_ths = (grid[last_row]||[]).filter(Boolean); // uniquement les feuilles\r\n    \r\n        // 2) \u00C9tat de tri actif \u2192 ordre {key,asc}\r\n        let order = [];\r\n        if (this.mode === 'virtual') {\r\n        order = (this.model.sort_state||[]).map(s => ({ key:s.key, asc:s.asc }));\r\n        } else {\r\n        // en adopt: mappe _adopt_sort_state (index de feuille) vers ces leaf_ths\r\n        order = (this._adopt_sort_state||[]).map(s => {\r\n            const th = leaf_ths[s.index]; // s.index = index de feuille (doit l\u2019\u00EAtre)\r\n            return th ? { key: th.dataset.colId, asc: s.asc } : null;\r\n        }).filter(Boolean);\r\n        }\r\n        const active_count = order.length;\r\n        const index_of = (col_id) => {\r\n        const i = order.findIndex(o => o.key === col_id);\r\n        return i >= 0 ? (i+1) : 0; // 1-based\r\n        };\r\n    \r\n        // 3) Pour chaque FEUILLE: chevron + (\u00E9ventuel) badge d\u2019ordre\r\n        for (const th of leaf_ths){\r\n        const col_id = th.dataset.colId || '';\r\n    \r\n        // non triable \u2192 on nettoie\r\n        if (th.dataset.sort !== 'true') {\r\n            th.querySelector('.dtbl-sort')?.remove();\r\n            th.querySelector('.dtbl-sort-idx')?.remove();\r\n            th.classList.remove('is-sorted');\r\n            th.removeAttribute('data-sort-order');\r\n            continue;\r\n        }\r\n    \r\n        // chevron (\u2195 / \u25B2 / \u25BC)\r\n        let icon = th.querySelector('.dtbl-sort');\r\n        if (!icon){ icon = document.createElement('span'); icon.className='dtbl-sort'; th.appendChild(icon); }\r\n    \r\n        let asc = null;\r\n        if (this.mode === 'virtual') {\r\n            const s = (this.model.sort_state||[]).find(x => x.key === col_id);\r\n            asc = s ? s.asc : null;\r\n        } else {\r\n            // en adopt, l\u2019index de feuille = position dans leaf_ths\r\n            const leaf_index = leaf_ths.indexOf(th);\r\n            const s = (this._adopt_sort_state||[]).find(x => x.index === leaf_index);\r\n            asc = s ? s.asc : null;\r\n        }\r\n        icon.textContent = asc == null ? '\u2195' : (asc ? '\u25B2' : '\u25BC');\r\n    \r\n        // badge d\u2019ordre (uniquement si >1 colonnes tri\u00E9es)\r\n        const ord = index_of(col_id);\r\n        let badge = th.querySelector('.dtbl-sort-idx');\r\n        if (ord > 0 && active_count > 1){\r\n            if (!badge){ badge = document.createElement('sup'); badge.className='dtbl-sort-idx'; th.appendChild(badge); }\r\n            badge.textContent = String(ord);\r\n            th.classList.add('is-sorted');\r\n            th.dataset.sortOrder = String(ord);\r\n        } else {\r\n            badge?.remove();\r\n            if (asc == null){ th.classList.remove('is-sorted'); th.removeAttribute('data-sort-order'); }\r\n            else { th.classList.add('is-sorted'); th.dataset.sortOrder = '1'; }\r\n        }\r\n        }\r\n    }\r\n  \r\n  \r\n\r\n    /** @private \u2014 applique l\u2019alternance uniquement sur les lignes visibles */\r\n    _apply_zebra(){\r\n        const table = this._adopt_table || document.querySelector(`[data-dtbl-id=\"${this.id}\"] table`);\r\n        const tbody = table?.tBodies?.[0]; if (!tbody) return;\r\n    \r\n        let vis = 0;\r\n        for (const tr of tbody.rows){\r\n        const hidden = tr.dataset.hidden === 'true' || tr.style.display === 'none';\r\n        tr.classList.remove('dtbl-row-odd','dtbl-row-even');\r\n        if (hidden) continue;\r\n        tr.classList.add((vis % 2) ? 'dtbl-row-even' : 'dtbl-row-odd');\r\n        vis++;\r\n        }\r\n    }\r\n\r\n    /**\r\n        * @private\r\n        * Mesure la largeur des <th> (derni\u00E8re ligne d\u2019ent\u00EAtes) et \u00E9crit un <colgroup>\r\n        * de m\u00EAme longueur pour figer les colonnes. Recalcule si la structure change.\r\n    */\r\n    _lock_column_widths({ include_icons = true, extra_px = 6 } = {}) {\r\n        const table = this._adopt_table || document.querySelector(`[data-dtbl-id=\"${this.id}\"] table`);\r\n        if (!table) return;\r\n        const thead = table.tHead || table.querySelector('thead'); if (!thead) return;\r\n      \r\n        const trs = Array.from(thead.rows);\r\n        if (!trs.length) return;\r\n        const last_row = trs.length - 1;\r\n      \r\n        // --- Construire la grille d\u2019occupation ---\r\n        const grid = [];\r\n        const place = (r, c, th) => { (grid[r] ??= []); grid[r][c] = th; };\r\n        for (let r = 0; r < trs.length; r++) {\r\n          let c = 0;\r\n          for (const th of trs[r].cells) {\r\n            const cs = Math.max(1, th.colSpan || 1);\r\n            const rs = Math.max(1, th.rowSpan || 1);\r\n            while ((grid[r]?.[c]) != null) c++;\r\n            const start = c, end = start + cs - 1;\r\n            for (let rr = r; rr < r + rs; rr++) for (let cc = start; cc <= end; cc++) place(rr, cc, th);\r\n            c = end + 1;\r\n          }\r\n        }\r\n      \r\n        // Feuilles = les TH r\u00E9f\u00E9renc\u00E9s sur la derni\u00E8re ligne de la grille\r\n        const leaf_ths = (grid[last_row] || []).filter(Boolean);\r\n      \r\n        // --- Mesure d\u00E9fensive (inclut ic\u00F4nes si hors flux) ---\r\n        const measure_th = (th) => {\r\n          const base = Math.ceil(Math.max(th.scrollWidth || 0, th.getBoundingClientRect().width || 0));\r\n          if (!include_icons) return base + extra_px;\r\n      \r\n          let extra = 0;\r\n          const add_if_out_of_flow = (el) => {\r\n            if (!el) return;\r\n            const cs = getComputedStyle(el);\r\n            const pos = cs.position;\r\n            if (pos === 'absolute' || pos === 'fixed') {\r\n              const r = el.getBoundingClientRect();\r\n              const ml = parseFloat(cs.marginLeft)  || 0;\r\n              const mr = parseFloat(cs.marginRight) || 0;\r\n              extra += Math.ceil(r.width + ml + mr);\r\n            }\r\n          };\r\n          add_if_out_of_flow(th.querySelector('.dtbl-sort'));\r\n          add_if_out_of_flow(th.querySelector('.dtbl-sort-idx'));\r\n          return base + extra + extra_px;\r\n        };\r\n      \r\n        const widths = leaf_ths.map(measure_th);\r\n      \r\n        // --- \u00C9crit/maj le <colgroup> ---\r\n        let cg = table.querySelector('colgroup[data-dtbl-colgroup]');\r\n        if (!cg) {\r\n          cg = document.createElement('colgroup');\r\n          cg.setAttribute('data-dtbl-colgroup', 'true');\r\n          table.insertBefore(cg, table.firstChild); // avant <thead>\r\n        }\r\n        while (cg.children.length < widths.length) cg.appendChild(document.createElement('col'));\r\n        while (cg.children.length > widths.length) cg.removeChild(cg.lastChild);\r\n        widths.forEach((w, i) => { cg.children[i].style.width = `${w}px`; });\r\n      \r\n        table.style.tableLayout = 'fixed';\r\n    }\r\n      \r\n      /** @private */\r\n      _render_toolbar_dom() {\r\n        const wrap = this._wrap || this._adopt_table?.closest('.dtbl-wrap'); if (!wrap) return;\r\n        wrap.querySelector('.dtbl-toolbar')?.remove();\r\n        const frag = document.createElement('div');\r\n        frag.innerHTML = `<div class=\"dtbl-toolbar\">${this.plugins.map(p => p.toolbar_html?.() || '').join('')}</div>`;\r\n        wrap.prepend(frag.firstChild);\r\n        // footer (ex: pagination)\r\n        wrap.querySelector('.dtbl-pager')?.remove();\r\n        const m = this.model.apply(); const slice = m.page_slice();\r\n        const footer = this.plugins.map(p => p.footer_html?.(slice) || '').join('');\r\n        if (footer) wrap.insertAdjacentHTML('beforeend', footer);\r\n      }\r\n  \r\n      /** @private */\r\n      _dispatch_input(e) { for (const p of this.plugins) p.handle_input?.(e); }\r\n      /** @private */\r\n      _dispatch_click(e) { for (const p of this.plugins) p.handle_click?.(e); }\r\n    };\r\n}\r\n  ", "/** Mode enhance (adopt) + ingestion thead + helpers DOM. */\r\nexport function with_enhance(Base) {\r\n    return class DataTableWithEnhance extends Base {\r\n      /**\r\n       * Am\u00E9liore une <table> existante.\r\n       * @param {HTMLTableElement|string} table\r\n       * @param {object} [opts]\r\n       */\r\n      static enhance(table, opts = {}) {\r\n        const inst = new this(opts);\r\n        inst.mode = 'adopt';\r\n  \r\n        const t = typeof table === 'string' ? document.querySelector(table) : table;\r\n        if (!t || t.tagName !== 'TABLE') throw new Error('enhance: provide <table>');\r\n  \r\n        inst._adopt_table = t;\r\n        t.classList.add('dtbl');\r\n        if (inst.opts.sticky_header) t.classList.add('dtbl-sticky');\r\n  \r\n        inst._ingest_columns_from_thead(t.tHead || t.querySelector('thead'));\r\n  \r\n        const wrap = document.createElement('div');\r\n        wrap.className = 'dtbl-wrap';\r\n        wrap.dataset.dtblId = inst.id;\r\n        t.parentNode.insertBefore(wrap, t);\r\n        wrap.appendChild(t);\r\n        inst._wrap = wrap;\r\n  \r\n        inst._render_toolbar_dom?.();\r\n        inst._update_sort_icons?.();\r\n        inst._lock_column_widths?.();\r\n        return inst;\r\n    }\r\n\r\n\r\n  \r\n  \r\n      /** @private */\r\n    static _slug(s) {\r\n        const x = String(s || '').trim().toLowerCase()\r\n          .replace(/[^\\p{L}\\p{N}]+/gu, '_')\r\n          .replace(/^_+|_+$/g, '');\r\n        return x ? (/\\d/.test(x[0]) ? `c_${x}` : x) : 'col';\r\n    }\r\n    \r\n    /**\r\n     * @private\r\n     * Reconstruit l'arbre de colonnes \u00E0 partir du <thead> avec gestion stricte\r\n     * de rowSpan/colSpan via une grille d'occupation.\r\n     */\r\n    _ingest_columns_from_thead(thead) {\r\n        const trs = Array.from(thead?.rows || []);\r\n        if (!trs.length) return;\r\n      \r\n        const grid = [];\r\n        const nodes_by_row = trs.map(() => []);\r\n        const _place = (r, c, th) => { (grid[r] ??= []); grid[r][c] = th; };\r\n      \r\n        // placement strict dans une grille\r\n        for (let r = 0; r < trs.length; r++) {\r\n          let c = 0;\r\n          for (const th of trs[r].cells) {\r\n            const cs = Math.max(1, th.colSpan || 1);\r\n            const rs = Math.max(1, th.rowSpan || 1);\r\n            while ((grid[r]?.[c]) != null) c++;\r\n            const start = c, end = start + cs - 1;\r\n            for (let rr = r; rr < r + rs; rr++) for (let cc = start; cc <= end; cc++) _place(rr, cc, th);\r\n            nodes_by_row[r].push({ th, row: r, col_start: start, col_end: end, row_span: rs, col_span: cs });\r\n            c = end + 1;\r\n          }\r\n        }\r\n        const last_row = trs.length - 1;\r\n      \r\n        const _bool = v => String(v ?? '').trim().toLowerCase() === 'true';\r\n      \r\n        const _meta = (th, fallback) => {\r\n          const label = (th.textContent || '').trim() || fallback;\r\n          let id = (th.dataset.colId || '').trim();\r\n          if (!id) { id = this.constructor._slug(label); th.dataset.colId = id; }\r\n          const sortable   = _bool(th.dataset.sort);\r\n          const align      = th.style.textAlign && /^(left|center|right)$/.test(th.style.textAlign) ? th.style.textAlign : null;\r\n          const searchable = _bool(th.dataset.search); // DEFAULT = false\r\n          return { id, label, sortable, align, searchable };\r\n        };\r\n      \r\n        const _force_searchable = (node) => {\r\n          if (node.children) node.children.forEach(_force_searchable);\r\n          else node.searchable = true;\r\n        };\r\n      \r\n        const build = (n) => {\r\n          const child_row = n.row + n.row_span;\r\n          const children = [];\r\n          if (child_row <= last_row) {\r\n            for (const ch of nodes_by_row[child_row]) {\r\n              if (ch.col_start >= n.col_start && ch.col_end <= n.col_end) children.push(build(ch));\r\n            }\r\n          }\r\n          if (children.length) {\r\n            const m = _meta(n.th, `Group ${n.row}:${n.col_start}`);\r\n            const group = { label: m.label, children };\r\n            if (m.searchable) _force_searchable(group);   // propagation du flag vers toutes les feuilles\r\n            return group;\r\n          } else {\r\n            const { id, label, sortable, align, searchable } = _meta(n.th, `Col ${n.row}:${n.col_start}`);\r\n            return { id, label, sortable, align, searchable };\r\n          }\r\n        };\r\n      \r\n        const tree = nodes_by_row[0].map(build);\r\n        this.model.set_columns(tree);\r\n      \r\n        // IMPORTANT: calcule le cache \u00E0 partir du MOD\u00C8LE (feuilles), pas du DOM\r\n        this._adopt_cache_searchable_indexes_from_model();\r\n    }\r\n\r\n    _adopt_cache_searchable_indexes_from_model() {\r\n        const leaves = this.model.get_flat_columns();\r\n        const idx = [];\r\n        for (let i = 0; i < leaves.length; i++) {\r\n          if (leaves[i]?.searchable === true) idx.push(i);\r\n        }\r\n        this._adopt_search_cols = idx;   // peut \u00EAtre [] si aucune colonne searchable\r\n    }\r\n\r\n    /**\r\n        * @private\r\n        * Construit la liste d'index de colonnes (ordre des feuilles) dont data-search!=='false'.\r\n    */\r\n    _adopt_cache_searchable_indexes(thead) {\r\n        const last = thead?.rows?.[thead.rows.length - 1];\r\n        if (!last) { this._adopt_search_cols = null; return; }\r\n        const idx = [];\r\n        Array.from(last.cells).forEach((th, i) => {\r\n            const searchable = th.dataset.search === 'true'; // default false\r\n            if (searchable) idx.push(i);\r\n        });\r\n\r\n        this._adopt_search_cols = idx;  // [] si aucune colonne searchable\r\n    }\r\n    \r\n    /**\r\n        * @private\r\n        * Push meta de colonnes\r\n    */\r\n    _apply_column_meta_to_thead(meta) {\r\n        if (!this._adopt_table) return;\r\n        const thead = this._adopt_table.tHead || this._adopt_table.querySelector('thead');\r\n        if (!thead) return;\r\n        const last_row = thead.rows[thead.rows.length - 1];\r\n        if (!last_row) return;\r\n      \r\n        const by_id = Array.isArray(meta)\r\n          ? Object.fromEntries(meta.filter(x => x && x.id).map(x => [x.id, x]))\r\n          : meta;\r\n      \r\n        for (const th of last_row.cells) {\r\n          const id = (th.dataset.colId || '').trim();\r\n          if (!id || !by_id[id]) continue;\r\n          const m = by_id[id];\r\n      \r\n          if (m.label != null) {\r\n            const icon = th.querySelector('.dtbl-sort');\r\n            th.textContent = String(m.label);\r\n            if (icon) th.appendChild(icon);\r\n          }\r\n          if (m.align) th.style.textAlign = m.align;\r\n          if (m.sortable != null) {\r\n            th.dataset.sort = m.sortable ? 'true' : 'false';\r\n            let icon = th.querySelector('.dtbl-sort');\r\n            if (m.sortable) {\r\n              if (!icon) { icon = document.createElement('span'); icon.className = 'dtbl-sort'; icon.textContent = '\u2195'; th.appendChild(icon); }\r\n            } else icon?.remove();\r\n          }\r\n          if (m.searchable != null) {\r\n            th.dataset.search = m.searchable ? 'true' : 'false';\r\n          }\r\n        }\r\n      \r\n        // recalcule depuis le mod\u00E8le (les meta ont \u00E9t\u00E9 pouss\u00E9es dans le mod\u00E8le par ailleurs)\r\n        this._adopt_cache_searchable_indexes_from_model();\r\n        this._update_sort_icons?.();\r\n    }\r\n      \r\n  \r\n    /**\r\n        * @private\r\n        * Filtre en DOM: ne regarde que les cellules dont l'index est dans _adopt_search_cols.\r\n    */\r\n    _adopt_filter(q) {\r\n        const tbody = this._adopt_table.tBodies[0];\r\n        const qq = (q || '').toLowerCase();\r\n      \r\n        if (!this._adopt_search_cols) this._adopt_cache_searchable_indexes_from_model();\r\n        const cols_idx = this._adopt_search_cols || [];\r\n      \r\n        // si aucune colonne searchable => aucun match possible quand q \u2260 ''\r\n        for (const row of tbody.rows) {\r\n          let vis = (qq === '');\r\n          if (!vis) {\r\n            for (let k = 0; k < cols_idx.length; k++) {\r\n              const col_idx = cols_idx[k];\r\n              const td = row.cells[col_idx];\r\n              if (td && td.textContent.toLowerCase().includes(qq)) { vis = true; break; }\r\n            }\r\n          }\r\n          row.dataset.hidden = vis ? 'false' : 'true';\r\n          row.style.display  = vis ? '' : 'none';\r\n        }\r\n        if (this._adopt_page != null) this._apply_adopt_pagination();\r\n        this._apply_zebra?.();\r\n    }\r\n      \r\n  \r\n    /**\r\n        * @private\r\n        * Trie le tbody \u00E0 partir d\u2019un clic sur <th>.\r\n    */\r\n    _adopt_sort(th, append, { new_first = true, tri_state = true, alt_clears_all = false, alt = false } = {}) {\r\n        if (!th || th.dataset.sort !== 'true') return;\r\n  \r\n        this._adopt_sort_state ??= [];\r\n        const idx = [...th.parentNode.children].indexOf(th);\r\n  \r\n        if (alt_clears_all && alt) {             // Alt+clic \u2192 clear all\r\n          this._adopt_sort_state = [];\r\n          this._apply_adopt_sort_to_dom();\r\n          return;\r\n        }\r\n  \r\n        const pos = this._adopt_sort_state.findIndex(s => s.index === idx);\r\n  \r\n        if (!append) {\r\n          // mono-tri: asc \u2192 desc \u2192 off\r\n          if (pos < 0) {\r\n            this._adopt_sort_state = [{ index: idx, asc: true }];\r\n          } else if (tri_state && this._adopt_sort_state[pos].asc) {\r\n            this._adopt_sort_state = [{ index: idx, asc: false }];\r\n          } else {\r\n            this._adopt_sort_state = []; // off\r\n          }\r\n        } else {\r\n          // multi-tri empil\u00E9\r\n          if (pos < 0) {\r\n            const it = { index: idx, asc: true };\r\n            if (new_first) this._adopt_sort_state.unshift(it);\r\n            else this._adopt_sort_state.push(it);\r\n          } else {\r\n            const s = this._adopt_sort_state[pos];\r\n            if (tri_state && s.asc) this._adopt_sort_state[pos] = { index: idx, asc: false };\r\n            else this._adopt_sort_state.splice(pos, 1); // off\r\n            if (new_first && pos !== 0 && pos < this._adopt_sort_state.length) {\r\n              const [it] = this._adopt_sort_state.splice(pos, 1);\r\n              this._adopt_sort_state.unshift(it);\r\n            }\r\n          }\r\n        }\r\n  \r\n        this._apply_adopt_sort_to_dom();\r\n      }\r\n\r\n       /** @private\r\n     * Applique _adopt_sort_state au DOM: trie uniquement les lignes visibles,\r\n     * puis remonte les invisibles \u00E0 la fin (ordre interne pr\u00E9serv\u00E9).\r\n     */\r\n    _apply_adopt_sort_to_dom() {\r\n        const tbody = this._adopt_table?.tBodies?.[0];\r\n        if (!tbody) return;\r\n  \r\n        const all = [...tbody.rows];\r\n        const visible = all.filter(r => r.dataset.hidden !== 'true');\r\n        const hidden  = all.filter(r => r.dataset.hidden === 'true');\r\n        if (!this._adopt_sort_state.length) {\r\n          // pas de tri: on ne change pas l\u2019ordre courant\r\n          return;\r\n        }\r\n  \r\n        const coll = this.model.collator;\r\n        visible.sort((a, b) => {\r\n            for (const s of this._adopt_sort_state) {\r\n                const va = a.cells[s.index]?.textContent.trim() ?? '';\r\n                const vb = b.cells[s.index]?.textContent.trim() ?? '';\r\n                const na = parseFloat(va), nb = parseFloat(vb);\r\n                const cmp = (!Number.isNaN(na) && !Number.isNaN(nb)) ? (na - nb) : coll.compare(va, vb);\r\n                if (cmp) return s.asc ? cmp : -cmp;\r\n            }\r\n            return 0;\r\n        });\r\n    \r\n        // remet visible tri\u00E9 + hidden (inchang\u00E9s) dans le tbody\r\n        tbody.replaceChildren(...visible, ...hidden);\r\n        if (this._adopt_page!=null) this._apply_adopt_pagination();\r\n        this._apply_zebra?.();\r\n    }\r\n  \r\n      /** @private */\r\n    _adopt_page_info() {\r\n        const vis = [...this._adopt_table.tBodies[0].rows].filter(r => r.dataset.hidden !== 'true');\r\n        const size = this.model.page_size || vis.length;\r\n        return { total_pages: Math.max(1, Math.ceil(vis.length / size)) };\r\n    }\r\n  \r\n      /** @private */\r\n    _apply_adopt_pagination() {\r\n        const tbody = this._adopt_table.tBodies[0];\r\n        const vis = [...tbody.rows].filter(r => r.dataset.hidden !== 'true');\r\n        const size = this.model.page_size || vis.length;\r\n        const total = Math.max(1, Math.ceil(vis.length / size));\r\n        this._adopt_page = Math.max(1, Math.min(total, this._adopt_page || 1));\r\n        vis.forEach((r, i) => { r.style.display = (i >= (this._adopt_page - 1) * size && i < this._adopt_page * size) ? '' : 'none'; });\r\n        const label = this._wrap.querySelector('.dtbl-page-label'); \r\n        if (label) label.textContent = `Page ${this._adopt_page} / ${total}`;\r\n        const prev = this._wrap.querySelector('.dtbl-page-prev');\r\n        const next = this._wrap.querySelector('.dtbl-page-next');\r\n        if (prev) prev.disabled = this._adopt_page <= 1;\r\n        if (next) next.disabled = this._adopt_page >= total;\r\n        this._apply_zebra?.();\r\n      }\r\n    };\r\n}\r\n  ", "/** Exports CSV/JSON + util blob. */\r\nexport function with_exports(Base) {\r\n    return class DataTableWithExports extends Base {\r\n      /** @returns {string} CSV (vue/page en virtual; lignes visibles en adopt) */\r\n      to_csv() {\r\n        if (this.mode === 'adopt') {\r\n          const thead = this._adopt_table.tHead;\r\n          const heads = [...thead.querySelectorAll('tr:last-child th')].map(th => th.textContent.trim());\r\n          const tbody = this._adopt_table.tBodies[0];\r\n          const rows = [...tbody.rows].filter(r => r.dataset.hidden !== 'true').map(r => [...r.cells].map(td => td.textContent.trim()));\r\n          const esc = s => { s = s == null ? '' : String(s); return /[\",\\n]/.test(s) ? `\"${s.replace(/\"/g, '\"\"')}\"` : s; };\r\n          return [heads.map(esc).join(','), ...rows.map(row => row.map(esc).join(','))].join('\\n');\r\n        }\r\n        const m = this.model.apply(); const flat = m.flat_columns();\r\n        const { rows } = m.page_size ? m.page_slice() : { rows: m.view_rows.length ? m.view_rows : m.rows };\r\n        const esc = s => { s = s == null ? '' : String(s); return /[\",\\n]/.test(s) ? `\"${s.replace(/\"/g, '\"\"')}\"` : s; };\r\n        const head = flat.map(c => esc(c.label)).join(',');\r\n        const body = rows.map(r => flat.map(c => esc((m.formatters.get(c.id)?.(r[c.id], r)) ?? r[c.id] ?? '')).join(',')).join('\\n');\r\n        return `${head}\\n${body}`;\r\n      }\r\n  \r\n      /** @returns {string} JSON (vue/page en virtual; lignes visibles en adopt) */\r\n      to_json() {\r\n        if (this.mode === 'adopt') {\r\n          const tbody = this._adopt_table.tBodies[0];\r\n          const heads = [...this._adopt_table.tHead.querySelectorAll('tr:last-child th')]\r\n            .map((th, i) => th.dataset.colId || th.textContent.trim() || `col${i + 1}`);\r\n          const rows = [...tbody.rows].filter(r => r.dataset.hidden !== 'true')\r\n            .map(r => { const o = {}; [...r.cells].forEach((td, i) => o[heads[i]] = td.textContent.trim()); return o; });\r\n          return JSON.stringify(rows, null, 2);\r\n        }\r\n        const m = this.model.apply();\r\n        const { rows } = m.page_size ? m.page_slice() : { rows: m.view_rows.length ? m.view_rows : m.rows };\r\n        return JSON.stringify(rows, null, 2);\r\n      }\r\n  \r\n      /** @private */\r\n      static _download_blob(text, filename, type) {\r\n        const blob = new Blob([text], { type });\r\n        const a = document.createElement('a');\r\n        a.href = URL.createObjectURL(blob); a.download = filename; a.click();\r\n        setTimeout(() => URL.revokeObjectURL(a.href), 0);\r\n      }\r\n    };\r\n  }\r\n  ", "export class TablePlugin {\r\n    attach(table){ this.table = table; return this; }\r\n    toolbar_html(){ return ''; }\r\n    footer_html(){ return ''; }\r\n    handle_input(_e) {}\r\n    handle_click(_e) {}\r\n}", "import { TablePlugin } from './_base.js'\r\n\r\n\r\nexport class Search extends TablePlugin {\r\n    constructor({ placeholder='Search\u2026', debounce_ms=120 }={}){ super(); this.placeholder=placeholder; this.debounce_ms=debounce_ms; }\r\n    toolbar_html(){ return `<input type=\"search\" class=\"dtbl-search form-input\" placeholder=\"${this.placeholder}\">`; }\r\n    handle_input(e){\r\n      if (!e.target.matches('.dtbl-search')) return;\r\n      clearTimeout(this._t);\r\n      this._t=setTimeout(()=>{\r\n        const q = e.target.value||'';\r\n        if (this.table.mode==='virtual'){ this.table.model.set_query(q); this.table._render_virtual_body(); }\r\n        else { this.table._adopt_filter(q); }\r\n      }, this.debounce_ms);\r\n    }\r\n}", "import { TablePlugin } from './_base.js';\r\n\r\nexport class Sort extends TablePlugin {\r\n  constructor({ multi = true, require_modifier = false, new_first = true, alt_clears_all = false } = {}) {\r\n    super();\r\n    this.multi = multi;\r\n    this.require_modifier = require_modifier;\r\n    this.new_first = new_first;\r\n    this.alt_clears_all = alt_clears_all;\r\n  }\r\n\r\n  handle_click(e) {\r\n    const th = e.target.closest('th[data-col-id]');\r\n    if (!th || th.dataset.sort !== 'true') return;\r\n\r\n    const want_append = this.multi && (!this.require_modifier || e.shiftKey || e.metaKey || e.ctrlKey);\r\n    const id = th.dataset.colId;\r\n\r\n    if (this.table.mode === 'virtual') {\r\n      if (this.alt_clears_all && e.altKey) { this.table.model.set_sort([]); this.table._render_virtual_body(); this.table._update_sort_icons?.(); return; }\r\n\r\n      const state = this._cycle_state(this.table.model.sort_state, id, want_append, this.new_first);\r\n      this.table.model.set_sort(state);\r\n      this.table._render_virtual_body();\r\n      this.table._update_sort_icons?.();\r\n\r\n    } else {\r\n      this.table._adopt_sort(th, want_append, { new_first: this.new_first, tri_state: true, alt_clears_all: this.alt_clears_all, alt: e.altKey });\r\n      this.table._update_sort_icons?.();\r\n    }\r\n  }\r\n\r\n  _cycle_state(cur_state, id, append, new_first) {\r\n    const cur = cur_state.slice();\r\n    const i = cur.findIndex(s => s.key === id);\r\n    if (!append) {\r\n      if (i < 0) return [{ key: id, asc: true }];\r\n      if (cur[i].asc) { cur[i] = { key: id, asc: false }; return cur; }\r\n      cur.splice(i, 1); return cur;               // off\r\n    }\r\n    if (i < 0) {\r\n      const it = { key: id, asc: true };\r\n      if (new_first) cur.unshift(it); else cur.push(it);\r\n      return cur;\r\n    }\r\n    if (cur[i].asc) cur[i] = { key: id, asc: false };\r\n    else cur.splice(i, 1);                        // off\r\n    if (new_first && i < cur.length && i !== 0) { const [it] = cur.splice(i, 1); cur.unshift(it); }\r\n    return cur;\r\n  }\r\n}\r\n", "import { TablePlugin } from './_base.js';\r\n\r\nexport class Pagination extends TablePlugin {\r\n  constructor({ page_size = 10 } = {}) {\r\n    super();\r\n    this.page_size = page_size;\r\n  }\r\n\r\n  attach(table) {\r\n    super.attach(table);\r\n    // Toujours fixer la page_size (virtual & adopt)\r\n    table.model.set_page_size(this.page_size);\r\n    if (table.mode !== 'virtual') {\r\n      table._adopt_page = 1;\r\n      table._apply_adopt_pagination?.();\r\n    }\r\n    return this;\r\n  }\r\n\r\n  toolbar_html() { return ''; }\r\n\r\n  footer_html() {\r\n    if (this.table.mode === 'virtual') {\r\n      const { page, total_pages } = this.table.model.apply().page_slice();\r\n      return this._pager_html(page, total_pages);\r\n    } else {\r\n      const { total_pages } = this.table._adopt_page_info();\r\n      const page = Math.max(1, Math.min(total_pages, this.table._adopt_page || 1));\r\n      return this._pager_html(page, total_pages);\r\n    }\r\n  }\r\n\r\n  handle_click(e) {\r\n    const btn = e.target.closest('.dtbl-page-prev, .dtbl-page-next');\r\n    if (!btn || btn.disabled) return;\r\n    const delta = btn.classList.contains('dtbl-page-prev') ? -1 : +1;\r\n\r\n    if (this.table.mode === 'virtual') {\r\n      const { total_pages } = this.table.model.apply().page_slice();\r\n      const cur = this.table.model.page || 1;\r\n      const next = Math.max(1, Math.min(total_pages, cur + delta));\r\n      this.table.model.set_page(next);\r\n      this.table._render_virtual_body();\r\n    } else {\r\n      const { total_pages } = this.table._adopt_page_info();\r\n      const cur = this.table._adopt_page || 1;\r\n      this.table._adopt_page = Math.max(1, Math.min(total_pages, cur + delta));\r\n      this.table._apply_adopt_pagination();\r\n    }\r\n  }\r\n\r\n  _pager_html(page, total) {\r\n    const prev_disabled = page <= 1 ? 'disabled' : '';\r\n    const next_disabled = page >= total ? 'disabled' : '';\r\n    return `\r\n      <div class=\"dtbl-pager\">\r\n        <button class=\"dtbl-page-prev\" ${prev_disabled} aria-label=\"Previous page\">\u25C0</button>\r\n        <span class=\"dtbl-page-label\">Page ${page} / ${total}</span>\r\n        <button class=\"dtbl-page-next\" ${next_disabled} aria-label=\"Next page\">\u25B6</button>\r\n      </div>`;\r\n  }\r\n}\r\n", "import { TablePlugin } from './_base.js';\r\n\r\nexport class Downloads extends TablePlugin {\r\n  constructor({\r\n    filename='data',\r\n    default_scope='filtered',      // 'all' | 'filtered' | 'page'\r\n    key_source='label',            // 'label' | 'id' pour ent\u00EAtes & JSON si json_key_source absent\r\n    json_key_source=null,          // si null => key_source\r\n    path_sep=' / '                 // s\u00E9parateur d'ent\u00EAte hi\u00E9rarchique\r\n  } = {}) {\r\n    super();\r\n    this.filename = filename;\r\n    this.default_scope = default_scope;\r\n    this.key_source = key_source;\r\n    this.json_key_source = json_key_source || key_source;\r\n    this.path_sep = path_sep;\r\n  }\r\n\r\n  attach(table){ this.table = table; }\r\n\r\n  toolbar_html(){\r\n    return `\r\n      <button class=\"dtbl-btn dtbl-btn-icon dtbl-download\" title=\"Export\">\r\n        <span class=\"material-symbols-outlined\">file_download</span>\r\n      </button>`;\r\n  }\r\n\r\n  handle_click(e){\r\n    if (!e.target.closest('.dtbl-download')) return;\r\n    this._open_popup();\r\n  }\r\n\r\n  _open_popup(){\r\n    const uid='dl_'+Math.random().toString(36).slice(2,8);\r\n    const info=this._gather_info();\r\n    const content = `\r\n      <h2 class=\"title\">Download</h2>\r\n      <div id=\"${uid}\" class=\"dtbl-dl\">\r\n        <div class=\"dtbl-dl__stats\">\r\n          <div><b>Columns:</b> ${info.cols}</div>\r\n          <div><b>Rows (all):</b> ${info.rows_all}</div>\r\n          <div><b>Rows (filtered):</b> ${info.rows_filtered}</div>\r\n          <div><b>Rows (page):</b> ${info.rows_page}</div>\r\n        </div>\r\n        <div class=\"dtbl-dl__scope\">\r\n          <div class=\"dtbl-dl__legend\">Scope</div>\r\n          <label><input type=\"radio\" name=\"dl-scope\" value=\"all\"      ${this.default_scope==='all'?'checked':''}> All rows</label>\r\n          <label><input type=\"radio\" name=\"dl-scope\" value=\"filtered\" ${this.default_scope==='filtered'?'checked':''}> Filtered rows</label>\r\n          <label><input type=\"radio\" name=\"dl-scope\" value=\"page\"     ${this.default_scope==='page'?'checked':''}> Current page</label>\r\n        </div>\r\n        <div class=\"dtbl-dl__actions\">\r\n          <button class=\"dtbl-dl__btn btn-csv\"  data-act=\"csv\"><span class=\"material-symbols-outlined\">table_chart</span> CSV</button>\r\n          <button class=\"dtbl-dl__btn btn-tsv\"  data-act=\"tsv\"><span class=\"material-symbols-outlined\">grid_on</span> TSV</button>\r\n          <button class=\"dtbl-dl__btn btn-json\" data-act=\"json\"><span class=\"material-symbols-outlined\">data_object</span> JSON</button>\r\n          <button class=\"dtbl-dl__btn btn-md\"   data-act=\"md\"><span class=\"material-symbols-outlined\">text_snippet</span> Markdown</button>\r\n          <button class=\"dtbl-dl__btn btn-cpy\"  data-act=\"copy\"><span class=\"material-symbols-outlined\">content_copy</span> Copy</button>\r\n        </div>\r\n      </div>`;\r\n    new PopUp({ title:'Export data', content, actions:[{label:'Close', role:'close'}] }).open();\r\n\r\n    const root=document.getElementById(uid); if(!root) return;\r\n    root.addEventListener('click', ev=>{\r\n      const btn=ev.target.closest('.dtbl-dl__btn'); if(!btn) return;\r\n      const scope = root.querySelector('input[name=\"dl-scope\"]:checked')?.value || this.default_scope;\r\n      const fmt = btn.dataset.act;\r\n      if (fmt==='csv') this._export_csv(scope);\r\n      else if (fmt==='tsv') this._export_tsv(scope);\r\n      else if (fmt==='json') this._export_json(scope);\r\n      else if (fmt==='md') this._export_md(scope);\r\n      else if (fmt==='copy') this._copy_csv(scope);\r\n    });\r\n  }\r\n\r\n  _gather_info(){\r\n    const leaves=this.table.model.get_flat_columns();\r\n    const cols=leaves.length;\r\n    if (this.table.mode==='virtual'){\r\n      return {\r\n        cols,\r\n        rows_all: this.table.model.get_rows('raw').length,\r\n        rows_filtered: this.table.model.get_rows('view').length,\r\n        rows_page: this.table.model.get_rows('page').length\r\n      };\r\n    }\r\n    const tbody=this.table._adopt_table.tBodies[0];\r\n    const all=tbody.rows.length;\r\n    const filtered=[...tbody.rows].filter(r=>r.dataset.hidden!=='true').length;\r\n    const page=[...tbody.rows].filter(r=>r.dataset.hidden!=='true' && r.style.display!=='none').length;\r\n    return { cols, rows_all:all, rows_filtered:filtered, rows_page:page };\r\n  }\r\n\r\n  // ---------- Exports hi\u00E9rarchiques ----------\r\n\r\n  _export_csv(scope){\r\n    const { headers, values } = this._collect_flat(scope, /*formatted=*/true);\r\n    const csv = this._to_delim(headers, values, ',');\r\n    this._download(`${this.filename}.csv`, csv, 'text/csv;charset=utf-8');\r\n  }\r\n\r\n  _export_tsv(scope){\r\n    const { headers, values } = this._collect_flat(scope, /*formatted=*/true);\r\n    const tsv = this._to_delim(headers, values, '\\t');\r\n    this._download(`${this.filename}.tsv`, tsv, 'text/tab-separated-values;charset=utf-8');\r\n  }\r\n\r\n  _export_md(scope){\r\n    const { headers, values } = this._collect_flat(scope, /*formatted=*/true);\r\n    const esc_bar = s => String(s).replace(/\\|/g,'\\\\|');\r\n    const header_line = `| ${headers.map(esc_bar).join(' | ')} |`;\r\n    const sep_line = `| ${headers.map(()=> '---').join(' | ')} |`;\r\n    const body = values.map(r => `| ${r.map(v => esc_bar(v)).join(' | ')} |`).join('\\n');\r\n    const md = `${header_line}\\n${sep_line}\\n${body}\\n`;\r\n    this._download(`${this.filename}.md`, md, 'text/markdown;charset=utf-8');\r\n  }\r\n\r\n  async _copy_csv(scope){\r\n    const { headers, values } = this._collect_flat(scope, /*formatted=*/true);\r\n    const csv = this._to_delim(headers, values, ',');\r\n    try { await navigator.clipboard.writeText(csv); }\r\n    catch {\r\n      const ta=document.createElement('textarea');\r\n      ta.value=csv; document.body.appendChild(ta); ta.select();\r\n      try{ document.execCommand('copy'); } finally{ ta.remove(); }\r\n    }\r\n  }\r\n\r\n  _export_json(scope){\r\n    const { paths, values } = this._collect_for_json(scope);\r\n    const arr = values.map(vals => this._nest_row(paths, vals));\r\n    const json = JSON.stringify(arr, null, 2);\r\n    this._download(`${this.filename}.json`, json, 'application/json;charset=utf-8');\r\n  }\r\n\r\n  // ---------- Collecte ----------\r\n\r\n  /**\r\n   * Collecte plate (ent\u00EAtes hi\u00E9rarchiques jointes) pour CSV/TSV/MD/Copy.\r\n   * @returns {{headers:string[], values:string[][]}}\r\n   */\r\n  _collect_flat(scope, formatted){\r\n    const tree = this.table.model.get_columns();\r\n    const leaves = this.table.model.get_flat_columns();\r\n    const paths = this._leaf_paths(tree, this.key_source);\r\n    const headers = paths.map(p => p.join(this.path_sep));\r\n\r\n    // valeurs\r\n    if (this.table.mode==='virtual'){\r\n      const m=this.table.model; m.apply();\r\n      let src;\r\n      if (scope==='all') src = m.get_rows('raw');\r\n      else if (scope==='filtered') src = m.get_rows('view');\r\n      else src = m.get_rows('page');\r\n\r\n      const fmt=m.formatters;\r\n      const values = src.map(r => leaves.map(c => {\r\n        const v = r[c.id];\r\n        if (!formatted) return v;\r\n        const f = fmt.get(c.id);\r\n        return f ? f(v,r) : (v==null ? '' : v);\r\n      }));\r\n      return { headers, values };\r\n    }\r\n\r\n    // adopt \u2192 DOM\r\n    const tbody=this.table._adopt_table.tBodies[0];\r\n    let trs;\r\n    if (scope==='all') trs=[...tbody.rows];\r\n    else if (scope==='filtered') trs=[...tbody.rows].filter(r=>r.dataset.hidden!=='true');\r\n    else trs=[...tbody.rows].filter(r=>r.dataset.hidden!=='true' && r.style.display!=='none');\r\n\r\n    const values = trs.map(tr => {\r\n      const cells=[...tr.cells];\r\n      return leaves.map((_,i)=>(cells[i]?.textContent?.trim() ?? ''));\r\n    });\r\n    return { headers, values };\r\n  }\r\n\r\n  /**\r\n   * Collecte valeurs + chemins pour JSON imbriqu\u00E9 (brut c\u00F4t\u00E9 virtual).\r\n   * @returns {{paths:string[][], values:any[][]}}\r\n   */\r\n  _collect_for_json(scope){\r\n    const tree = this.table.model.get_columns();\r\n    const leaves = this.table.model.get_flat_columns();\r\n    const paths = this._leaf_paths(tree, this.json_key_source);\r\n\r\n    if (this.table.mode==='virtual'){\r\n      const m=this.table.model; m.apply();\r\n      let src;\r\n      if (scope==='all') src = m.get_rows('raw');\r\n      else if (scope==='filtered') src = m.get_rows('view');\r\n      else src = m.get_rows('page');\r\n\r\n      // valeurs brutes pour JSON\r\n      const values = src.map(r => leaves.map(c => r[c.id]));\r\n      return { paths, values };\r\n    }\r\n\r\n    // adopt \u2192 valeur = texte DOM\r\n    const tbody=this.table._adopt_table.tBodies[0];\r\n    let trs;\r\n    if (scope==='all') trs=[...tbody.rows];\r\n    else if (scope==='filtered') trs=[...tbody.rows].filter(r=>r.dataset.hidden!=='true');\r\n    else trs=[...tbody.rows].filter(r=>r.dataset.hidden!=='true' && r.style.display!=='none');\r\n\r\n    const values = trs.map(tr => {\r\n      const cells=[...tr.cells];\r\n      return leaves.map((_,i)=>(cells[i]?.textContent?.trim() ?? ''));\r\n    });\r\n    return { paths, values };\r\n  }\r\n\r\n  _leaf_paths(tree, mode){\r\n    const out=[];\r\n    const key_of_leaf = (leaf)=> (mode==='id' ? (leaf.id ?? leaf.label ?? 'col') : (leaf.label ?? leaf.id ?? 'col'));\r\n    const walk=(nodes, prefix=[])=>{\r\n      for(const n of nodes||[]){\r\n        if (n.children && n.children.length) {\r\n          const name = (mode==='id' ? (n.id ?? n.label ?? '') : (n.label ?? n.id ?? ''));\r\n          walk(n.children, name ? [...prefix, name] : [...prefix]);\r\n        } else {\r\n          out.push([...prefix, key_of_leaf(n)]);\r\n        }\r\n      }\r\n    };\r\n    walk(tree, []);\r\n    return out;\r\n  }\r\n\r\n  _nest_row(paths, values){\r\n    const obj={};\r\n    for (let i=0;i<paths.length;i++){\r\n      const path=paths[i]; let cur=obj;\r\n      for (let j=0;j<path.length-1;j++){\r\n        const k=path[j] ?? '';\r\n        if (!(k in cur) || typeof cur[k] !== 'object' || cur[k] === null) cur[k]={};\r\n        cur=cur[k];\r\n      }\r\n      const leaf_key=path[path.length-1] ?? 'value';\r\n      cur[leaf_key]=values[i];\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  // ---------- utils ----------\r\n\r\n  _to_delim(headers, rows, sep){\r\n    const esc = s => { s = s == null ? '' : String(s); return /[\\\"\\n,]/.test(s) ? `\"${s.replace(/\"/g,'\"\"')}\"` : s; };\r\n    const head_line = headers.map(esc).join(sep);\r\n    const body = rows.map(r => r.map(v => esc(v)).join(sep)).join('\\n');\r\n    return `${head_line}\\n${body}`;\r\n  }\r\n\r\n  _download(filename, text, type){\r\n    const fn=this.table.constructor._download_blob;\r\n    if (typeof fn==='function'){ this.table.constructor._download_blob(text, filename, type); return; }\r\n    const blob=new Blob([text],{type}); const a=document.createElement('a');\r\n    a.href=URL.createObjectURL(blob); a.download=filename; a.click(); setTimeout(()=>URL.revokeObjectURL(a.href),0);\r\n  }\r\n}\r\n", "import cssText from './loading_screen.css';\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\nensure_stylesheet(cssText, \"webtool__loading_screen_css\");\n\nexport * from './loading_screen.js';\n", "\n#loading-screen.active {\n    display: flex; /* visible */\n}\n\n#loading-screen {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(25, 25, 25, 0.8);\n    color: #f3f3f3;\n    display: none;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    z-index: 9999;\n    padding: 20px;\n    box-sizing: border-box;\n    overflow-y: auto;\n    max-height: 100vh;\n}\n\n.spinner {\n    border: 8px solid #333; /* Light gray */\n    border-top: 8px solid #f3f3f3; /* White */\n    border-radius: 50%;\n    width: 60px;\n    height: 60px;\n    animation: spin 1.5s linear infinite;\n    margin-bottom: 1.5rem;\n}\n\n#loading-steps {\n    width: 100%;\n    max-width: 400px;\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n}\n\n.loading-step {\n    background: rgba(255, 255, 255, 0.1);\n    padding: 10px 15px;\n    border-radius: 6px;\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n}\n\n.loading-step-title {\n    font-weight: 600;\n    font-size: 1.1em;\n    color: #eee;\n}\n\n.loading-step-progress {\n    width: 100%;\n    height: 14px;\n    border-radius: 7px;\n    overflow: hidden;\n    -webkit-appearance: none;\n    appearance: none;\n}\n\n.loading-step-progress::-webkit-progress-bar {\n    background-color: #444;\n    border-radius: 7px;\n}\n\n.loading-step-progress::-webkit-progress-value {\n    background-color: #66bb6a; /* green */\n    border-radius: 7px;\n}\n\n.loading-step-progress::-moz-progress-bar {\n    background-color: #66bb6a;\n    border-radius: 7px;\n}\n\n.loading-step-info {\n    font-size: 0.9em;\n    color: #ccc;\n    min-height: 18px; /* reserve space */\n    font-style: italic;\n}\n\n#loading-detail {\n    margin-top: 20px;\n    max-width: 400px;\n    color: #ccc;\n    font-size: 0.9em;\n    font-family: monospace;\n}\n\n.loading-detail-item {\n    margin-bottom: 4px;\n}\n\n@keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n}\n", "export class LoadingScreen {\n  static ROOT_ID   = 'loading-screen';\n  static STEPS_ID  = 'loading-steps';\n  static DETAIL_ID = 'loading-detail';\n\n  static #root; static #steps; static #detail;\n\n  static #ensure() {\n    if (this.#root && document.body.contains(this.#root)) return;\n\n    let root = document.getElementById(this.ROOT_ID);\n    if (!root) {\n        root = document.createElement('div');\n        root.id = this.ROOT_ID;\n\n        const spinner = document.createElement('div');\n        spinner.className = 'spinner';\n        root.appendChild(spinner);\n\n        const steps = document.createElement('div');\n        steps.id = this.STEPS_ID;\n        root.appendChild(steps);\n\n        const detail = document.createElement('div');\n        detail.id = this.DETAIL_ID;\n        root.appendChild(detail);\n\n        if (document.body)\n            document.body.appendChild(root);\n        else {\n            window.addEventListener('DOMContentLoaded', () => {\n                document.body.appendChild(root);\n            });\n        }\n    }\n    this.#root   = root;\n    this.#steps  = root.querySelector('#' + this.STEPS_ID);\n    this.#detail = root.querySelector('#' + this.DETAIL_ID);\n  }\n\n  static show() {\n    this.#ensure();\n    this.#root.classList.add('active');\n  }\n\n  static hide() {\n    this.#ensure();\n    this.#root.classList.remove('active');\n  }\n\n  /**\n   * content: { main_steps?: {title:string, progress?:number, info?:string}[], detail?: Record<string, any> }\n   */\n  static update(content = {}) {\n    this.#ensure();\n\n    const steps = Array.isArray(content.main_steps) ? content.main_steps : [];\n    const detail = content.detail && typeof content.detail === 'object' ? content.detail : {};\n\n    if (this.#steps) this.#updateSteps(steps);\n    if (this.#detail) this.#updateDetail(detail);\n  }\n\n  static #updateSteps(steps) {\n    const container = this.#steps;\n\n    // Index existants par titre\n    const current = Array.from(container.querySelectorAll('.loading-step'));\n    const byTitle = new Map(current.map(el => [el.dataset.title || el.querySelector('.loading-step-title')?.textContent || '', el]));\n\n    // Retrait des steps obsol\u00E8tes\n    current.forEach(el => {\n      const t = el.dataset.title || el.querySelector('.loading-step-title')?.textContent || '';\n      if (!steps.find(s => s.title === t)) el.remove();\n    });\n\n    // Ajout / mise \u00E0 jour\n    steps.forEach(s => {\n      const title = String(s.title ?? '');\n      let el = byTitle.get(title);\n      if (!el) {\n        el = document.createElement('div');\n        el.className = 'loading-step';\n        el.dataset.title = title;\n\n        const t = document.createElement('div');\n        t.className = 'loading-step-title';\n        el.appendChild(t);\n\n        const p = document.createElement('progress');\n        p.className = 'loading-step-progress';\n        p.max = 1;\n        el.appendChild(p);\n\n        const i = document.createElement('div');\n        i.className = 'loading-step-info';\n        el.appendChild(i);\n\n        container.appendChild(el);\n      }\n\n      el.dataset.title = title;\n      el.querySelector('.loading-step-title').textContent = title;\n      el.querySelector('.loading-step-progress').value = Number(s.progress ?? 0);\n      el.querySelector('.loading-step-info').textContent = String(s.info ?? '');\n    });\n  }\n\n  static #updateDetail(detail) {\n    const container = this.#detail;\n    container.innerHTML = '';\n    Object.entries(detail).forEach(([k, v]) => {\n      const div = document.createElement('div');\n      div.className = 'loading-detail-item';\n      div.textContent = `${k}: ${v}`;\n      container.appendChild(div);\n    });\n  }\n}", "import cssText from './toast.css';\nimport { ensure_stylesheet } from '../shared/ensure_stylesheet.js';\nensure_stylesheet(cssText, \"webtool__toast_css\");\n\nexport * from './toast.js';\n", "/* Container : stack bottom-right */\n#toast-container {\n  position: fixed;\n  right: 20px;\n  bottom: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  z-index: 9999;\n  pointer-events: none;\n}\n\n/* Toast element */\n.toast {\n  pointer-events: auto;\n  min-width: 200px;\n  max-width: 400px;\n  padding: 10px 14px;\n  border-radius: 4px;\n  border-left: 14px solid transparent; /* couleur dynamique */\n  background: #f9fafb; /* fond neutre clair */\n  color: #111827;      /* texte neutre fonc\u00E9 */\n  font-family: system-ui, -apple-system, \"Segoe UI\", Roboto, sans-serif;\n  font-size: 0.9rem;\n  font-weight: 500;\n  box-shadow: 0 6px 18px rgba(0,0,0,0.12);\n  opacity: 0;\n  transform: translateX(22px);\n  transition: opacity 0.25s ease, transform 0.25s ease;\n}\n\n/* Active = visible */\n.toast.active {\n  opacity: 1;\n  transform: translateX(-12px);\n}\n\n/* Variants: border-left color only */\n.toast.info {\n  border-color: #1a9a9c; /* bleu */\n  color: #1a9a9c;\n}\n.toast.success {\n  border-color: #33982a; /* vert */\n  color: #33982a;\n}\n.toast.warning {\n  border-color: #b68c00; /* orange */\n  color: #b68c00;\n}\n.toast.error {\n  border-color: #cd0000; /* rouge */\n  color: #cd0000;\n}\n", "export class Toast {\n    static type = Object.freeze({\n        info: 'info',\n        success: 'success',\n        warning: 'warning',\n        error: 'error'\n    });\n\n    static _ensure() {\n        let c = document.getElementById('toast-container');\n        if (!c) {\n            c = document.createElement('div');\n            c.id = 'toast-container';\n            document.body.appendChild(c);\n        }\n        return c;\n    }\n\n    static _make(type, message, duration = 3000, opts = {}) {\n        const container = this._ensure();\n        const el = document.createElement('div');\n        el.className = `toast ${type}`;\n        el.setAttribute('role', 'status');\n        el.setAttribute('aria-live', 'polite');\n\n        if (opts.html) el.innerHTML = message;\n        else el.textContent = message;\n\n        container.appendChild(el);\n        requestAnimationFrame(() => el.classList.add('active'));\n\n        const close = () => {\n            el.classList.remove('active');\n            el.addEventListener('transitionend', () => el.remove(), { once: true });\n        };\n\n        const t = setTimeout(close, duration);\n            if (opts.pauseOnHover) {\n            el.addEventListener('mouseenter', () => clearTimeout(t), { once: true });\n        }\n\n        return { el, close };\n    }\n\n    static clear() {\n        const c = document.getElementById('toast-container');\n        if (c) c.innerHTML = '';\n    }\n\n    // Aliases\n    static info(message, duration, opts) {\n        return this._make(this.type.info, message, duration, opts);\n    }\n    static success(message, duration, opts) {\n        return this._make(this.type.success, message, duration, opts);\n    }\n    static warning(message, duration, opts) {\n        return this._make(this.type.warning, message, duration, opts);\n    }\n    static error(message, duration, opts) {\n        return this._make(this.type.error, message, duration, opts);\n    }\n}\n"],
  "mappings": "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",
  "names": ["index_exports", "__export", "ActionItem", "CheckboxItem", "ContextMenu", "DataTable", "EditableText", "LoadingScreen", "MenuItem", "Navigator", "PopUp", "SeparatorItem", "Toast", "context_menu_exports", "editable_text_exports", "loading_screen_exports", "navigator_exports", "pop_up_exports", "table_exports", "toast_exports", "context_menu_exports", "__export", "ActionItem", "CheckboxItem", "ContextMenu", "MenuItem", "SeparatorItem", "context_menu_default", "ensure_stylesheet", "css", "id", "el", "MenuItem", "ctx", "_ctx", "_menu", "ActionItem", "label", "on_click", "icon_html", "visible", "enabled", "danger", "menu", "el", "e", "CheckboxItem", "get_checked", "on_toggle", "checked", "SeparatorItem", "ContextMenu", "activation", "mode", "selector", "container", "items", "context_fn", "item", "list", "it", "opts", "ev", "target", "x", "y", "types", "t", "node", "empty", "width", "height", "vw", "vh", "px", "py", "ensure_stylesheet", "context_menu_default", "editable_text_exports", "__export", "EditableText", "editable_text_default", "EditableText", "_EditableText", "s", "value", "tag", "id", "on_save", "on_cancel", "v", "e", "root", "input_el", "initial", "view_el", "inst", "old_val", "new_val", "prev", "err", "ensure_stylesheet", "editable_text_default", "navigator_exports", "__export", "Navigator", "navigator_default", "Navigator", "_Navigator", "max_tab_number", "max_tab_message", "open_tab_event", "delete_event", "target", "root", "tab_id", "tab_name", "content", "closable", "hidden", "count_towards_limit", "button", "close", "event", "content_node", "opts", "new_content", "tab", "current_tab", "next_id", "tab_id_list", "ordered", "include_hidden", "out", "id", "t", "html_node", "nav", "el", "tab_ids", "filename", "prev_title", "bundle", "page", "clone", "img", "cleanup", "ensure_stylesheet", "navigator_default", "pop_up_exports", "__export", "PopUp", "pop_up_default", "PopUp", "_PopUp", "content", "backdrop", "backdrop_click_closes", "esc_closes", "extra_backdrop_class", "buttons", "on_open", "on_close", "extra", "e", "label", "class_name", "auto_close", "on_click", "btn", "list", "spec", "message", "yes_label", "no_label", "on_yes", "on_no", "text", "on_next", "before_open", "pop", "ensure_stylesheet", "pop_up_default", "table_exports", "__export", "DataTable", "table_default", "DataTableRegistry", "e", "wrap", "inst", "TableState", "locale", "cols", "id", "patch", "c", "x", "meta_by_id", "flat", "meta", "out", "walk", "list", "depth", "node", "s", "ch", "rows", "index", "col_id", "value", "scope", "q", "n", "p", "key", "asc", "append", "state", "r", "row", "idx", "type_of", "a", "b", "t", "av", "bv", "cmp", "total", "start", "fn", "parent", "type", "an", "bn", "na", "nb", "aa", "bb", "da", "db", "v", "TableRenderer", "table", "p", "m", "flat", "depth", "head_rows", "build", "list", "lvl", "self", "c", "has", "slice", "html", "row", "attrs", "r", "v", "f", "out", "DataTableBase", "opts", "DataTableRegistry", "TableState", "TableRenderer", "with_plugins", "Base", "name", "cls", "key", "Pascal", "_", "__", "c", "plugin_or_name", "opts", "inst", "Cls", "prop", "with_columns_api", "Base", "cols", "render", "id", "patch", "meta", "c", "meta_by_id", "with_rows_api", "Base", "rows", "render", "q", "index", "patch", "col_id", "value", "scope", "dict", "row_key", "keys", "c", "r", "k", "o", "fn", "with_dom", "Base", "update_header", "wrap", "table", "tbody_new", "m", "rows", "page", "total_pages", "flat", "r", "tr", "c", "td", "f", "v", "label", "prev", "next", "thead", "trs", "last_row", "grid", "place", "th", "cs", "rs", "start", "end", "rr", "cc", "leaf_ths", "order", "s", "active_count", "index_of", "col_id", "i", "o", "icon", "asc", "x", "leaf_index", "ord", "badge", "tbody", "vis", "hidden", "include_icons", "extra_px", "measure_th", "base", "extra", "add_if_out_of_flow", "el", "pos", "ml", "mr", "widths", "cg", "w", "frag", "p", "slice", "footer", "with_enhance", "Base", "table", "opts", "inst", "t", "wrap", "s", "x", "thead", "trs", "grid", "nodes_by_row", "_place", "r", "c", "th", "cs", "rs", "start", "end", "rr", "cc", "last_row", "_bool", "v", "_meta", "fallback", "label", "id", "sortable", "align", "searchable", "_force_searchable", "node", "build", "n", "child_row", "children", "ch", "group", "tree", "leaves", "idx", "i", "last", "meta", "by_id", "m", "icon", "q", "tbody", "qq", "cols_idx", "row", "vis", "k", "col_idx", "td", "append", "new_first", "tri_state", "alt_clears_all", "alt", "pos", "it", "all", "visible", "hidden", "coll", "b", "va", "vb", "na", "nb", "cmp", "size", "total", "prev", "next", "with_exports", "Base", "heads", "th", "rows", "r", "td", "esc", "s", "row", "m", "flat", "head", "c", "body", "tbody", "i", "o", "text", "filename", "type", "blob", "a", "TablePlugin", "table", "_e", "Search", "TablePlugin", "placeholder", "debounce_ms", "e", "q", "Sort", "TablePlugin", "multi", "require_modifier", "new_first", "alt_clears_all", "e", "th", "want_append", "id", "state", "cur_state", "append", "cur", "i", "s", "it", "Pagination", "TablePlugin", "page_size", "table", "page", "total_pages", "e", "btn", "delta", "cur", "next", "total", "prev_disabled", "next_disabled", "Downloads", "TablePlugin", "filename", "default_scope", "key_source", "json_key_source", "path_sep", "table", "e", "uid", "info", "content", "root", "ev", "btn", "scope", "fmt", "cols", "tbody", "all", "filtered", "r", "page", "headers", "values", "csv", "tsv", "esc_bar", "s", "header_line", "sep_line", "body", "v", "md", "ta", "paths", "arr", "vals", "json", "formatted", "tree", "leaves", "p", "m", "src", "c", "trs", "tr", "cells", "_", "i", "mode", "out", "key_of_leaf", "leaf", "walk", "nodes", "prefix", "n", "name", "obj", "path", "cur", "j", "k", "leaf_key", "rows", "sep", "esc", "head_line", "text", "type", "blob", "a", "ensure_stylesheet", "table_default", "_DT0", "DataTableBase", "_DT1", "with_plugins", "_DT2", "with_columns_api", "_DT3", "with_rows_api", "_DT4", "with_dom", "_DT5", "with_enhance", "DataTable", "with_exports", "Search", "Sort", "Pagination", "Downloads", "loading_screen_exports", "__export", "LoadingScreen", "loading_screen_default", "LoadingScreen", "#root", "#steps", "#detail", "#ensure", "root", "spinner", "steps", "detail", "content", "#updateSteps", "#updateDetail", "container", "current", "byTitle", "el", "t", "s", "title", "p", "i", "k", "v", "div", "ensure_stylesheet", "loading_screen_default", "toast_exports", "__export", "Toast", "toast_default", "Toast", "c", "type", "message", "duration", "opts", "container", "el", "close", "t", "ensure_stylesheet", "toast_default"]
}
